(function(a,b){function G(a){this.init.apply(this,arguments);var b=a&&a.render;b&&(b!==!0?this.render(b):this.render())}var d=(b.Event,b.DOM),e=b.extend,f=b.isNumber,g=b.isFunction,h=b.isString,i=b.isElement,m=(b.isObject,b.arrayify,b.trim,d.addClass),o=b.UA.ie,p=a.document,q=b.query,r=function(a,b){var c=q(a,b);return c&&c.length?c[0]:null},w=o&&9>o?function(a,b){a.insertBefore(b,a.firstChild)}:function(a,b){a.appendChild(b)},x=Object.create?function(a,b){return Object.create(a,{constructor:{value:b}})}:function(a,b){function c(){}c.prototype=a;var d=new c;return d.constructor=b,d},y=function(a,b,c,d){if(!b||!a)return a;var g,f=b.prototype;return g=x(f,a),a.prototype=e(g,a.prototype,!0),a.superclass=x(f,b),c&&e(g,c,!0),d&&e(a,d,!0),a},z="_sinaguid_"+(new Date).getTime(),A={},B=function(a){h(a)||(a="");var b="counter"+a;return A[b]||(A[b]=0),A[b]++,a+A[b]},C=function(a,b){var c=null;if(a){if(c="string"==typeof a?a:a[z],!c&&!b)try{a[z]=c=B()}catch(d){}c=c||null}return c},E={INIT:"init",INIT_END:"initend",RENDER:"render",RENDER_END:"renderend",DESTROY:"destroy",DESTROY_END:"destroyend"};e(G.prototype,{WRAPPER_TAG:"div",CONTENT_TAG:"div",CSS_PREFIX:"sina-",_initialized:!1,_destroyed:!1,_rendered:!1,init:function(a){a=a||{},this.trigger(E.INIT,{config:a}),this._initAll(a),this._initialized=!0,this.trigger(E.INIT_END)},destroy:function(){this.trigger(E.DESTROY),this._destroyAll(),this.removeListener(),this._destroyed=!0,this.trigger(E.DESTROY_END)},_initAll:function(){if(!this._initialized){var a,b,d,c=this._inheritanceChain();for(d=c.length-1;d>=0;d--)a=c[d],b=a.prototype,b.hasOwnProperty("initializer")&&b.initializer.apply(this,arguments)}},_destroyAll:function(){if(!this._destroyed){var a,b,d,e,c=this._inheritanceChain();for(d=0,e=c.length;e>d;d++)a=c[d],b=a.prototype,b.hasOwnProperty("destructor")&&b.destructor.apply(this,arguments)}},initializer:function(a){var b=a.source;this.contentBox=i(b)?b:h(b)?r(b):null,this._width=a.width||"",this._height=a.height||""},destructor:function(){},render:function(a){this.trigger(E.RENDER,{container:a}),h(a)?a=r(a):i(a)||(a=null);var c,b=a,d=this.contentBox,e=!d,f=p,j=(this.constructor,this.WRAPPER_TAG),k=this.CONTENT_TAG;C(d,!0)||(C(d),this.elements={},this.wrapperBox=c=f.createElement(j),e?(this.contentBox=d=f.createElement(k),c.appendChild(d)):(d.parentNode.insertBefore(c,d),c.appendChild(d),this.queryElements()),b?b!==c.parentNode&&w(b,c):e&&(b=p.body,w(b,c)),this._renderAll(),this._rendered=!0,this.trigger(E.RENDER_END))},_renderAll:function(){if(this._initialized&&!this._rendered){var a,b,d,c=this._inheritanceChain(),e=this.CSS_PREFIX||"",f="",g=this.wrapperBox,h=this.contentBox;for(d=c.length-1;d>=0;d--)a=c[d],f=e+a.NAME,b=a.prototype,b.hasOwnProperty("renderer")&&b.renderer.apply(this,arguments),m(g,f);m(h,f+"-content")}},renderer:function(){var a=this.wrapperBox,b=this.contentBox,c=this._width,d=this._height;a&&b&&(f(c)?a.style.width=c+"px":h(c)&&(a.style.width=c),f(d)?a.style.height=d+"px":h(d)&&(a.style.height=d))},queryElements:function(){var b,c,a=this._getQueries(),d=this.contentBox,e=this.elements;for(b in a)c=r(a[b],d),c&&(e[b]=c)},_getQueries:function(){var c,d,a={},b=this._inheritanceChain();for(c=b.length-1;c>=0;c--)d=b[c]._queries,d&&e(a,d,!0);return a},_inheritanceChain:function(){if(!this.__chain){for(var a=[],b=this.constructor;b;)a.push(b),b=b.superclass&&b.superclass.constructor;this.__chain=a}return this.__chain}}),b.makeTarget(G),e(G,{NAME:"widget",guid:B,stamp:C}),b.Widget=G,b.createWidget=function(a,b,c){g(a)||(c=b,b=a,a=G),c=c||{},b=b||{};var d=function(){d.superclass.constructor.apply(this,arguments)};return y(d,a,b,c),d}})(window,SINA),function(a,b){if(!a.Weibo||!a.Weibo.VERSION){var c=b.Widget,d=b.createWidget,e={VERSION:"0.1",guid:c.guid,stamp:c.stamp,config:function(){},createWidget:d,Classes:{},Widgets:{}};a.Weibo=e}}(window,SINA),function(a,b){var c=a.Weibo,d=b.arrayify,e=b.trim,h=(b.isNumber,b.isArray,b.isElement),i=b.DOM,j=i.next,k=i.attr,l=a.document,m=function(a){var b=a.cloneNode(!0);return b},n=function(a,b){var c=b.createElement("div");return c.innerHTML=a,c},o=function(a,b){if(a&&a.length){var c=null,e=0;for(a.length,b=b||a[0].ownerDocument,c=b.createDocumentFragment(),a.item&&(a=d(a)),e=0,len=a.length;len>e;e++)c.appendChild(a[e]);return c}return null},p=function(a,b){if("string"==typeof a&&(a=e(a))){var d,c=null,f=n;return b=b||l,d=f(a,b).childNodes,c=1===d.length?d[0].parentNode.removeChild(d[0]):o(d,b)}return null},q=function(a){for(var b=a.offsetParent,c=a.offsetLeft,d=0,e=l.body;b;)c+=b.offsetLeft,b=b.offsetParent;for(b=a.parentNode;b&&b!==e;)d+=b.scrollLeft,b=b.parentNode;return c-d},r=function(a){for(var b=a.offsetParent,c=a.offsetTop,d=0,e=l.body;b;)c+=b.offsetTop,b=b.offsetParent;for(b=a.parentNode;b&&b!==e;)d+=b.scrollTop,b=b.parentNode;return c-d},s=function(){var b,c,d,e,a=!!l.selection;return a?(b=function(a){a.focus();var b={text:"",start:0,end:0},c=0,d=l.selection.createRange(),e=l.body.createTextRange();for(e.moveToElementText(a),b.text=d.text,b.bookmark=d.getBookmark();0>e.compareEndPoints("StartToStart",d)&&0!==d.moveStart("character",-1);c++)"\n"==a.value.charAt(c)&&c++;return b.start=c,b.end=b.text.length+b.start,b},c=function(a,b){b||this.toHead();var c=a.createTextRange();a.value.length===b.start?(c.collapse(!1),c.select()):(c.moveToBookmark(b.bookmark),c.select())},d=function(a,b,c){var d;this.setPosition(a,b),d=l.selection.createRange(),d.text=c,d.setEndPoint("StartToEnd",d),d.select()},e=function(a,b){var c=a.createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",b),c.select()}):(b=function(a){a.focus();var b={text:"",start:0,end:0};return b.start=a.selectionStart,b.end=a.selectionEnd,b.text=b.start!==b.end?a.value.substring(b.start,b.end):"",b},c=function(a,b){return b?(a.focus(),a.setSelectionRange(b.start,b.end),void 0):(this.toHead(a),void 0)},d=function(a,b,c){var d,e,f,g,h;this.setPosition(a,b),d=a.value,e=d.substring(0,b.start)+c+d.substring(b.end),f=g=b.start+c.length,h=a.scrollTop,a.value=e,a.scrollTop!=h&&(a.scrollTop=h),a.setSelectionRange(f,g)},e=function(a,b){a.focus(),a.setSelectionRange(b,b)}),{getPosition:b,setPosition:c,setText:d,moveTo:e,toHead:function(a){this.moveTo(a,0)},toTail:function(a){this.moveTo(a,a.value.length)}}}(),t=function(){var a=function(){var a=l.createElement("canvas");return"getContext"in a}(),b=1,c=2,d=440,e=Math.PI/2,f=[{M11:1,M12:0,M21:0,M22:1},{M11:0,M12:-1,M21:1,M22:0},{M11:-1,M12:0,M21:0,M22:-1},{M11:0,M12:1,M21:-1,M22:0}],g=function(a,f){if(a){var n,o,g=a._angle||0,h=0,i=a.width,k=a.height,m=j(a);switch(m||(m=p('<canvas class="'+(a.className||"")+'" style="display:none;"></canvas>'),a.parentNode.insertBefore(m,null)),f){case b:h=(g+3)%4;break;case c:h=(g+1)%4;break;default:if(0===g)return}n=m.getContext("2d"),1===h||3===h?k>d?(m.width=d,o=m.height=d/k*i,n.save(),n.rotate(h*e),3===h?n.drawImage(a,-o,0,o,d):n.drawImage(a,0,-d,o,d),n.restore()):(m.width=k,m.height=i,n.save(),n.rotate(h*e),3===h?n.drawImage(a,-i,0):n.drawImage(a,0,-k),n.restore()):(m.width=i,m.height=k,n.save(),n.rotate(h*e),2===h?n.drawImage(a,-i,-k):n.drawImage(a,0,0),n.restore()),a.style.display="none",m.style.display="inline",a._angle=h}},h="DXImageTransform.Microsoft.Matrix",i=function(a,e){if(a){var l,m,g=a._angle||0,i=0,j=a.width,k=a.height,n=1;switch(e){case b:i=(g+3)%4;break;case c:i=(g+1)%4;break;default:if(0===g)return}try{l=a.filters.item(h)}catch(p){a.style.filter="progid:"+h+'(SizingMethod="auto expand")',l=a.filters.item(h)}m=f[i],1===i||3===i?(k>d&&(n=d/k),a.parentNode.style.height=n*j+"px"):a.parentNode.style.height=k+"px",l.M11=n*m.M11,l.M12=n*m.M12,l.M21=n*m.M21,l.M22=n*m.M22,a._angle=i}};return{TURN_LEFT:b,TURN_RIGHT:c,MAX_IMG_WIDTH:d,DEG_90:e,ROTATE_MATRIX:f,mode:a?"canvas":"filter",rotateCanvas:g,rotateFilter:i,rotate90:a?g:i}}(),u=function(){function a(a){if(!a)return-1;var b=a.slice(0,10)+a.slice(25)+a.slice(10,25);return Date.parse(b)||-1}function b(){var a=new Date,b=a.getFullYear(),c=a.getMonth(),d=a.getDate(),e=new Date(b,c,d),f=new Date(b,0,1);return{now:a.getTime(),today:e.getTime(),thisYear:f.getTime()}}var c=b(),d=c.now,e=c.today,f=c.thisYear;return{getCurrent:b,timestamp:a,update:function(){var a=b();d=a.now,e=a.today,f=a.thisYear},displayString:function(a){if(a=parseInt(a,10)||0,!a)return"\u672a\u77e5\u65f6\u95f4";var g,b=Math.floor((d-a)/1e3),c="";return 10>=b?c="10\u79d2\u524d":50>=b?c=10*Math.ceil(b/10)+"\u79d2\u524d":3600>=b?c=Math.round(b/60)+"\u5206\u949f\u524d":a>e&&d-36e5>e?c="\u4eca\u5929 "+new Date(a).toTimeString().substr(0,5):a>f?(g=new Date(a),c=g.getMonth()+1+"\u6708"+g.getDate()+"\u65e5"+" "+g.toTimeString().substr(0,5)):(g=new Date(a),c=g.getFullYear()+"-"+(g.getMonth()+1)+"-"+g.getDate()+" "+g.toTimeString().substr(0,5)),c}}}(),v=function(a){var b=a.charAt(0);return"#"===b?'<a class="weibo-link-topic" href="http://weibo.com/k/'+encodeURIComponent(a.slice(1,-1))+'" target="_blank">'+a+"</a>":"@"===b?(b=a.slice(5,7),":/"===b||"s:"===b?(a=a.slice(1),'@<a class="weibo-link-url" href="'+a+'" target="_blank">'+a+"</a>"):'<a class="weibo-user" href="http://weibo.com/n/'+encodeURIComponent(a.slice(1))+'" target="_blank">'+a+"</a>"):"["===b?'<span class="weibo-emoticon">'+a+"</span>":'<a class="weibo-link-url" href="'+a+'"  target="_blank">'+a+"</a>"},w=/(?:#[^#]*#|@?http\s?\:\/\/[\w\.\/\-\%\?&\+]{4,}|\@[\w\-\u4e00-\u9fa5]+|\[[^\[\]]+\])/gi,x=function(a){return a.replace(w,v)},y={Textarea:s,Image:t,Time:u,cloneNode:m,createFromString:p,pageX:q,pageY:r,customAttr:function(a,b,c){if(h(a)){var d=a.dataset;return d?void 0===c?d[b]:(d[b]=c,void 0):k(a,"data-"+b,c)}},updateWordCount:function(a,b,c){if(a&&b){c=c||0;var h,d=a.value||"",e=/[^x00-xff]/g,f=Math.round(d.replace(e,"aa").length/2),g=140;g>=f+c?(h=g-f-c,b.innerHTML="\u4f60\u8fd8\u53ef\u4ee5\u8f93\u5165<em>"+h+"</em>\u5b57"):(h=f-g+c,b.innerHTML='<span style="color:red">\u5df2\u7ecf\u8d85\u51fa<em>'+h+"</em>\u5b57</span>")}},replaceStatusText:x,htmlEncode:function(a){return a?(a+="",a.replace(/&|<|>|\'|\"/g,function(a){switch(a){case"&":a="&amp;";break;case"<":a="&lt;";break;case">":a="&gt;";break;case"'":a="&#39;";break;case'"':a="&quot;";break;default:}return a})):a}};c.Utils=y}(window,SINA),function(a,b){var c=a.Weibo,d=b.extend,e=b.arrayify,f=b.trim,g=!!a.postMessage,h=!1,i=location.host,j=function(a){a=a||"";var b=(Math.random()+"").slice(2),c=(new Date).getTime();return""+a+c+b},k=a.document,l=function(a){var b=a.cloneNode(!0);return 8>ie&&(b.innerHTML=a.innerHTML),b},m=function(a,b){var c=b.createElement("div");return c.innerHTML=a,c},n=function(a,b){if(a&&a.length){var c=null,d=0;for(a.length,b=b||a[0].ownerDocument,c=b.createDocumentFragment(),a.item&&(a=e(a)),d=0,len=a.length;len>d;d++)c.appendChild(a[d]);return c}return null},o=function(a,b){if("string"==typeof a&&(a=f(a))){var d,c=null,e=m;return b=b||k,d=e(a,b).childNodes,c=1===d.length?d[0].parentNode.removeChild(d[0]):n(d,b)}return null},p=function(){if(!h){var a=/^([^\.]+\.)*weibo\.com$/,b=/^([^\.]+\.)*sina\.com.cn$/;if(i.match(a))h="weibo";else{if(!i.match(b))return!1;h="sina"}}return h},q="sina"===p()?"http://api.sina.com.cn/script/javascript/postmsg.html":"http://focus.weibo.com/script/javascript/postmsg.html?v=201203",r="sina"===p()?"sina.com.cn":"weibo.com",s={createNode:o,cloneNode:l,generateId:j,detectDomain:p,mode:g?"html5":"iframe",config:{proxyUrl:q,domain:r,form:null},setConfig:function(a){d(s.config,a,!0)},send:g?function(a){var b=s.sender,c=s.config;return b||(b=new s.Html5MsgSender({proxyUrl:c.proxyUrl}),this.sender=b),b.send(a),b}:function(a){var b,c=s.config;return b=new s.IframeMsgSender({domain:c.domain,form:c.form}),b.send(a),b}};c.XDPost=s}(window,SINA),function(a,b){var c=a.Weibo,d=c.XDPost,e=b.extend,g=(b.isFunction,b.UA.ie),h=document.addEventListener?function(a,b,c){a&&a.addEventListener&&a.addEventListener(b,c,!1)}:function(a,b,c){a&&a.attachEvent&&a.attachEvent("on"+b,c)},i=document.removeEventListener?function(a,b,c){a&&a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){a&&a.detachEvent&&a.detachEvent("on"+b,c)},j=g&&9>g?function(a,b){b.insertBefore(a,b.firstChild)}:function(a,b){b.appendChild(a)},k=function(){},l=/^http\s?\:\/\/[a-z\d\-\.]+/i,m="sina-xdpost-iframe-",n=d.generateId,o=function(a){return this instanceof o?(a=a||{},this.init(a),void 0):new o(a)};e(o.prototype,{ready:!1,init:function(b){if(!this.ready){var e,f,g,i,o,c=this,p=b.proxyUrl;c.onsuccess=b.onsuccess||k,c.onfailure=b.onfailure||k,p&&(o=function(a){if(c.ready&&a.origin===c.target){var b=a.data;b&&"failure"!==b?c.onsuccess&&c.onsuccess(a.data):c.onfailure&&c.onfailure()}},h(a,"message",o),e=n(m),f='<iframe id="'+e+'" name="'+e+'" src="'+p+'" frameborder="0" '+'style="width:0;height:0;display:none;"></iframe>',g=d.createNode(f),i=function(){c.ready=!0;var a=g.src,b=a.match(l);c.target=b&&b[0]||"*"},h(g,"load",i),j(g,document.body),c._iframe=g,c._iframeLoaded=i,c._receiver=o)}},send:function(c){c=c||{};var d=this,e=c.url,f=c.data,g=c.onsuccess,h=c.onfailure;if(e&&"string"==typeof e){if(g&&(d.onsuccess=g),h&&(d.onfailure=h),!d.ready)return b.later(function(){d.send(c)},50),void 0;f?f+="&_url="+a.encodeURIComponent(e):f="_url="+a.encodeURIComponent(e),d._iframe.contentWindow.postMessage(f,d.target)}},destroy:function(){var b=this._iframe;i(b,"load",this._iframeLoaded),b.parentNode.removeChild(b),i(a,"message",this._receiver),this._iframe=null,this._iframeLoaded=null,this._receiver=null}}),d.Html5MsgSender=o}(window,SINA),function(a,b){var c=a.Weibo,d=c.XDPost,e=b.extend,g=(b.ready,b.later),h=b.QueryString,i=h.parse,j=b.UA.ie,k=function(){},l="sina-xdpost-form-",m="sina-xdpost-iframe-",n=d.generateId,o=function(a){return a?(a+="",a.replace(/&|<|>|\'|\"/g,function(a){switch(a){case"&":a="&amp;";break;case"<":a="&lt;";break;case">":a="&gt;";break;case"'":a="&#39;";break;case'"':a="&quot;";break;default:}return a})):a},p=j&&9>j?function(a,b){b.insertBefore(a,b.firstChild)}:function(a,b){b.appendChild(a)},q=function(a){return this instanceof q?(a=a||{},this.init(a),void 0):new q(a)};q.defaultDomain="sina.com.cn",e(q.prototype,{ready:!1,init:function(b){if(!this.ready){var d,f,g,c=this,h=b.form,i=b.domain||q.defaultDomain;c.onsuccess=b.onsuccess||k,c.onfailure=b.onfailure||k,h||(d=n(l),h=document.createElement("form"),h.id=d,h.method="POST",h.style.display="none",p(h,document.body)),g=function(a){c._clear(),c.onsuccess&&c.onsuccess(a)},f=n("callback"),a[f]=g,c.ready=!0,c._callbackName=f,c._form=h,document.domain=i}},send:function(a){a=a||{};var c,d,f,h,j,b=this,k=[],l=b._callbackName,q=a.url,r=a.data,s=a.onsuccess,t=a.onfailure;if(q&&"string"==typeof q){if(s&&(b.onsuccess=s),t&&(b.onfailure=t),!b.ready)return g(function(){b.send(a)},50),void 0;if((f=b._placeholder)||(f=document.createElement("div"),f.style.display="none",f.style.visibility="hidden",p(f,document.body),b._placeholder=f),h=this._form,c=n(m),d='<iframe id="'+c+'" name="'+c+'" src="about:blank" frameborder="0" '+'style="width:0;height:0;display:none;"></iframe>',this._iframeId=c,f.innerHTML=d,h.action=-1===q.indexOf("?")?q+"?callback="+l:q+"&callback="+l,h.target=c,r){"string"==typeof r&&(r=i(r)||{});for(j in r)k.push('<input type="hidden" name="'),k.push(o(j)),k.push('" value="'),k.push(o(r[j])),k.push('" />');h.innerHTML=k.join("")}h.submit()}},inProgress:function(){return!(!me._iframeId||!document.getElementById(me._iframeId))},_clear:function(){var a=this._iframeId&&document.getElementById(this._iframeId);a&&a.parentNode.removeChild(a),this._iframeId=null},cancel:function(){this._clear()},destroy:function(){var b=this._form,c=this._placeholder;b.parentNode.removeChild(b),c.parentNode.removeChild(c),this._form=null,this._placeholder=null,delete a[this._callbackName],this._iframeId=null}}),d.IframeMsgSender=q}(window,SINA),function(a,b){var c=a.Weibo,d=c.XDPost,e=b.QueryString,f=b.JSON,g=e.stringify,h=f.parse,j=(b.extend,b.IO.getJSONP),k=b.UA.ie,l=function(){},m=function(a){a=a||{};var b=a.url,c=a.data||{},d=a.onsuccess||l,e=a.onfailure||l;return b&&"string"==typeof b?(j(b,g(c),function(a){var b=a&&a.result&&a.result.status;b&&0===b.code?d(a.result.data):b?e(b):e({code:-10000001,msg:"\u672a\u77e5\u9519\u8bef"})}),void 0):(e({code:-10000003,msg:"\u63a5\u53e3 URL \u672a\u6307\u5b9a"}),void 0)},n=function(a){a=a||{};var k,b=a.url,f=a.data||{},g=a.encoding||c.encoding,i=a.onsuccess||l,j=a.onfailure||l;return b&&"string"==typeof b?("html5"===d.mode?(f=e.stringify(f),k=function(a){a=h(a);var b=a&&a.result&&a.result.status;b&&0===b.code?i(a.result.data):b?j(b):j({code:-10000001,msg:"\u672a\u77e5\u9519\u8bef"})}):(k=function(a){var b=a&&a.result&&a.result.status;b&&0===b.code?i(a.result.data):b?j(b):j({code:-10000001,msg:"\u672a\u77e5\u9519\u8bef"})},g?f.ie=g:"gb2312"===document.charset&&(f.ie="gbk")),d.send({url:b,data:f,onsuccess:k,onfailure:l}),void 0):(j({code:-10000003,msg:"\u63a5\u53e3 URL \u672a\u6307\u5b9a"}),void 0)},o=function(a,b){var d=a.url;d||(d=b),d+=d.indexOf("?")>=0?"&source="+c.appKey:"?source="+c.appKey,a.url=d},p="http://api.sina.com.cn/weibo/",q=p+"2/",r=k?"xml":"json";_apiWBBase="http://focus.weibo.com/api/weibo/",_apiWBBaseV2=_apiWBBase+"2/",_apiBaseFinal="sina"===d.detectDomain()?p:_apiWBBase,_apiBaseV2Final="sina"===d.detectDomain()?q:_apiWBBaseV2,c._urls={update:_apiBaseV2Final+"statuses/update."+r,repost:_apiBaseV2Final+"statuses/repost."+r,comment:_apiBaseV2Final+"comments/create."+r,replyComment:_apiBaseV2Final+"comments/reply."+r,getComments:q+"comments/show.json",favorite:_apiBaseV2Final+"favorites/create."+r,follow:_apiBaseV2Final+"friendships/create."+r,batchFollow:_apiBaseV2Final+"friendships/create_batch."+r,isFollowing:q+"friendships/show.json",getUser:q+"users/show.json",getVote:q+"votes/show.json",vote:q+"votes/vote."+r,getUrlInfo:p+"short_url/batch_info.json",shortenUrl:p+"short_url/shorten.json"},c.appKey="4526198296",c._getRequest=m,c._postRequest=n,c.apis={update:function(a){a=a||{},o(a,c._urls.update),c._postRequest(a)},repost:function(a){a=a||{},o(a,c._urls.repost),c._postRequest(a)},comment:function(a){a=a||{},o(a,c._urls.comment),c._postRequest(a)},replyComment:function(a){a=a||{},o(a,c._urls.replyComment),c._postRequest(a)},favorite:function(a){a=a||{},o(a,c._urls.favorite),c._postRequest(a)},follow:function(a){a=a||{},o(a,c._urls.follow),c._postRequest(a)},batchFollow:function(a){a=a||{},o(a,c._urls.batchFollow),c._postRequest(a)},isFollowing:function(a){a=a||{},o(a,c._urls.isFollowing),c._getRequest(a)},getUser:function(a){a=a||{},o(a,c._urls.getUser),c._getRequest(a)},getComments:function(a){a=a||{},o(a,c._urls.getComments),c._getRequest(a)},getVote:function(a){a=a||{},o(a,c._urls.getVote),c._getRequest(a)},vote:function(a){a=a||{},o(a,c._urls.vote),c._postRequest(a)},getVideo:function(a){a=a||{},o(a,c._urls.getUrlInfo),c._getRequest(a)},getUrlInfo:function(a){a=a||{},o(a,c._urls.getUrlInfo),c._getRequest(a)},shortenUrl:function(a){a=a||{},o(a,c._urls.shortenUrl),c._getRequest(a)}}}(window,SINA),function(a){var c=a.Weibo;c.MSG={SYS:{10001:"\u7cfb\u7edf\u9519\u8bef",10002:"\u670d\u52a1\u6682\u505c",10003:"\u8fdc\u7a0b\u670d\u52a1\u9519\u8bef",10004:"IP\u9650\u5236\u4e0d\u80fd\u8bf7\u6c42\u8be5\u8d44\u6e90",10005:"\u8be5\u8d44\u6e90\u9700\u8981appkey\u62e5\u6709\u6388\u6743",10006:"\u7f3a\u5c11source (appkey) \u53c2\u6570",10007:"\u4e0d\u652f\u6301\u7684MediaType (%s)",10008:"\u53c2\u6570\u9519\u8bef\uff0c\u8bf7\u53c2\u8003API\u6587\u6863",10009:"\u4efb\u52a1\u8fc7\u591a\uff0c\u7cfb\u7edf\u7e41\u5fd9",10010:"\u4efb\u52a1\u8d85\u65f6",10011:"RPC\u9519\u8bef",10012:"\u975e\u6cd5\u8bf7\u6c42",10013:"\u4e0d\u5408\u6cd5\u7684\u5fae\u535a\u7528\u6237",10014:"\u5e94\u7528\u7684\u63a5\u53e3\u8bbf\u95ee\u6743\u9650\u53d7\u9650",10016:"\u7f3a\u5931\u5fc5\u9009\u53c2\u6570 (%s)\uff0c\u8bf7\u53c2\u8003API\u6587\u6863",10017:"\u53c2\u6570\u503c\u975e\u6cd5\uff0c\u9700\u4e3a (%s)\uff0c\u5b9e\u9645\u4e3a (%s)\uff0c\u8bf7\u53c2\u8003API\u6587\u6863",10018:"\u8bf7\u6c42\u957f\u5ea6\u8d85\u8fc7\u9650\u5236",10020:"\u63a5\u53e3\u4e0d\u5b58\u5728",10021:"\u8bf7\u6c42\u7684HTTP\u65b9\u6cd5\u4e0d\u652f\u6301",10022:"IP\u8bf7\u6c42\u9891\u6b21\u8d85\u8fc7\u4e0a\u9650",10023:"\u7528\u6237\u8bf7\u6c42\u9891\u6b21\u8d85\u8fc7\u4e0a\u9650",10024:"\u9891\u6b21\u8d85\u8fc7\u4e0a\u9650",10025:"\u5185\u90e8\u63a5\u53e3\u53c2\u6570\u9519\u8bef"},SER:{20001:"IDs\u53c2\u6570\u4e3a\u7a7a",20002:"Uid\u53c2\u6570\u4e3a\u7a7a",20003:"\u7528\u6237\u4e0d\u5b58\u5728",20005:"\u4e0d\u652f\u6301\u7684\u56fe\u7247\u7c7b\u578b\uff0c\u4ec5\u4ec5\u652f\u6301JPG\u3001GIF\u3001PNG",20006:"\u56fe\u7247\u592a\u5927",20007:"\u8bf7\u786e\u4fdd\u4f7f\u7528multpart\u4e0a\u4f20\u56fe\u7247",20008:"\u5185\u5bb9\u4e3a\u7a7a",20009:"IDs\u53c2\u6570\u592a\u957f\u4e86",20012:"\u8f93\u5165\u6587\u5b57\u592a\u957f\uff0c\u8bf7\u786e\u8ba4\u4e0d\u8d85\u8fc7140\u4e2a\u5b57\u7b26",20013:"\u8f93\u5165\u6587\u5b57\u592a\u957f\uff0c\u8bf7\u786e\u8ba4\u4e0d\u8d85\u8fc7300\u4e2a\u5b57\u7b26",20014:"\u5b89\u5168\u68c0\u67e5\u53c2\u6570\u6709\u8bef\uff0c\u8bf7\u518d\u8c03\u7528\u4e00\u6b21",20015:"\u8d26\u53f7\u3001IP\u6216\u5e94\u7528\u975e\u6cd5\uff0c\u6682\u65f6\u65e0\u6cd5\u5b8c\u6210\u6b64\u64cd\u4f5c",20016:"\u53d1\u5e03\u5185\u5bb9\u8fc7\u4e8e\u9891\u7e41",20017:"\u63d0\u4ea4\u76f8\u4f3c\u7684\u4fe1\u606f",20018:"\u5305\u542b\u975e\u6cd5\u7f51\u5740",20019:"\u63d0\u4ea4\u76f8\u540c\u7684\u4fe1\u606f",20020:"\u5305\u542b\u5e7f\u544a\u4fe1\u606f",20021:"\u5305\u542b\u975e\u6cd5\u5185\u5bb9",20022:"\u6b64IP\u5730\u5740\u4e0a\u7684\u884c\u4e3a\u5f02\u5e38",20023:"\u5f88\u62b1\u6b49\uff0c\u6b64\u529f\u80fd\u6682\u65f6\u65e0\u6cd5\u4f7f\u7528\uff0c\u5982\u9700\u5e2e\u52a9\u8bf7\u8054\u7cfb@\u5fae\u535a\u5ba2\u670d",20031:"\u9700\u8981\u9a8c\u8bc1\u7801",20032:"\u53d1\u5e03\u6210\u529f\uff0c\u76ee\u524d\u670d\u52a1\u5668\u53ef\u80fd\u4f1a\u6709\u5ef6\u8fdf\uff0c\u8bf7\u8010\u5fc3\u7b49\u5f851-2\u5206\u949f",20033:"\u767b\u9646\u72b6\u6001\u5f02\u5e38",20034:"\u5e10\u53f7\u5904\u4e8e\u9501\u5b9a\u72b6\u6001",20035:"\u5e10\u53f7\u672a\u5b9e\u540d\u8ba4\u8bc1",20044:"\u53ef\u53d1\u8868\uff0c\u4f46\u662f\u9700\u8981\u5f39\u51fa\u8499\u5c42",20045:"\u4e0d\u53ef\u53d1\u8868\uff0c\u9700\u8981\u5f39\u51fa\u8499\u5c42",20101:"\u4e0d\u5b58\u5728\u7684\u5fae\u535a",20102:"\u4e0d\u662f\u4f60\u53d1\u5e03\u7684\u5fae\u535a",20103:"\u4e0d\u80fd\u8f6c\u53d1\u81ea\u5df1\u7684\u5fae\u535a",20104:"\u4e0d\u5408\u6cd5\u7684\u5fae\u535a",20109:"\u5fae\u535aid\u4e3a\u7a7a",20111:"\u4e0d\u80fd\u53d1\u5e03\u76f8\u540c\u7684\u5fae\u535a",20112:"\u7531\u4e8e\u4f5c\u8005\u9690\u79c1\u8bbe\u7f6e\uff0c\u4f60\u6ca1\u6709\u6743\u9650\u67e5\u770b\u6b64\u5fae\u535a",20113:"\u6807\u7b7e\u540d\u4e0d\u5408\u6cd5",20114:"\u6807\u7b7e\u540d\u592a\u957f",20115:"\u6807\u7b7e\u4e0d\u5b58\u5728",20116:"\u6807\u7b7e\u5df2\u5b58\u5728",20117:"\u6700\u591a200\u4e2a\u6807\u7b7e",20118:"\u6700\u591a5\u4e2a\u6807\u7b7e",20119:"\u6807\u7b7e\u641c\u7d22\u5931\u8d25",20120:"\u7531\u4e8e\u4f5c\u8005\u8bbe\u7f6e\u4e86\u53ef\u89c1\u6027\uff0c\u4f60\u6ca1\u6709\u6743\u9650\u8f6c\u53d1\u6b64\u5fae\u535a",20121:"visible\u53c2\u6570\u975e\u6cd5",20122:"\u5e94\u7528\u4e0d\u5b58\u5728",20123:"\u6700\u591a\u5c4f\u853d200\u4e2a\u5e94\u7528",20124:"\u6700\u591a\u5c4f\u853d500\u6761\u5fae\u535a",20125:"\u6ca1\u6709\u5c4f\u853d\u8fc7\u6b64\u5e94\u7528",20126:"\u4e0d\u80fd\u5c4f\u853d\u65b0\u6d6a\u5e94\u7528",20127:"\u5df2\u6dfb\u52a0\u4e86\u6b64\u5c4f\u853d",20128:"\u5220\u9664\u5c4f\u853d\u5931\u8d25",20129:"\u6ca1\u6709\u5c4f\u853d\u4efb\u4f55\u5e94\u7528",20130:"\u7531\u4e8e\u4f5c\u8005\u9690\u79c1\u8bbe\u7f6e\uff0c\u4f60\u6ca1\u6709\u6743\u9650\u8bc4\u8bba\u6b64\u5fae\u535a",20136:"\u975e\u4f1a\u5458\u53d1\u8868\u5b9a\u5411\u5fae\u535a\uff0c\u5206\u7ec4\u6210\u5458\u6570\u6700\u591a200",20201:"\u4e0d\u5b58\u5728\u7684\u5fae\u535a\u8bc4\u8bba",20202:"\u4e0d\u5408\u6cd5\u7684\u8bc4\u8bba",20203:"\u4e0d\u662f\u4f60\u53d1\u5e03\u7684\u8bc4\u8bba",20204:"\u8bc4\u8bbaID\u4e3a\u7a7a",20205:"\u5728\u9ed1\u540d\u5355\u4e2d\uff0c\u65e0\u6cd5\u8fdb\u884c\u8bc4\u8bba",20206:"\u4f5c\u8005\u53ea\u5141\u8bb8\u5173\u6ce8\u7528\u6237\u8bc4\u8bba",20207:"\u4f5c\u8005\u53ea\u5141\u8bb8\u53ef\u4fe1\u7528\u6237\u8bc4\u8bba",20301:"\u4e0d\u80fd\u7ed9\u4e0d\u662f\u4f60\u7c89\u4e1d\u7684\u4eba\u53d1\u79c1\u4fe1",20302:"\u4e0d\u5408\u6cd5\u7684\u79c1\u4fe1",20303:"\u4e0d\u662f\u5c5e\u4e8e\u4f60\u7684\u79c1\u4fe1",20305:"\u4e0d\u5b58\u5728\u7684\u79c1\u4fe1",20306:"\u4e0d\u80fd\u53d1\u5e03\u76f8\u540c\u7684\u79c1\u4fe1",20307:"\u975e\u6cd5\u7684\u79c1\u4fe1ID",20308:"\u53d1\u79c1\u4fe1\u592a\u591a",20310:"tousertype\u7b56\u7565\u88ab\u62e6\u622a",20311:"\u5f88\u62b1\u6b49\uff0c\u6839\u636e\u76f8\u5173\u6cd5\u89c4\u548c\u653f\u7b56\uff0c\u4f60\u6682\u65f6\u65e0\u6cd5\u53d1\u9001\u4efb\u4f55\u5185\u5bb9\u7684\u79c1\u4fe1\u3002\u5982\u9700\u5e2e\u52a9\u8bf7\u8054 \u7cfb @\u5fae\u535a\u5ba2\u670d \u6216\u8005\u81f4\u7535\u5ba2\u670d\u7535\u8bdd400 096 0960\uff08\u4e2a\u4eba\uff09 400 098 0980\uff08\u4f01\u4e1a\uff09",20401:"\u57df\u540d\u4e0d\u5b58\u5728",20402:"Verifier\u9519\u8bef",20403:"\u5c4f\u853d\u7528\u6237\u5217\u8868\u4e2d\u5b58\u5728\u6b64uid",20404:"\u5c4f\u853d\u7528\u6237\u5217\u8868\u4e2d\u4e0d\u5b58\u5728\u6b64uid",20405:"uid\u5bf9\u5e94\u7528\u6237\u4e0d\u662f\u767b\u5f55\u7528\u6237\u7684\u597d\u53cb",20406:"\u5c4f\u853d\u7528\u6237\u4e2a\u6570\u8d85\u51fa\u4e0a\u9650",20407:"\u6ca1\u6709\u5408\u9002\u7684uid",20408:"\u4ecefeed\u5c4f\u853d\u5217\u8868\u4e2d\uff0c\u5904\u7406\u7528\u6237\u5931\u8d25",20501:"\u53c2\u6570source_user\u6216\u8005target_user\u7684\u7528\u6237\u4e0d\u5b58\u5728",20502:"\u5fc5\u987b\u8f93\u5165\u76ee\u6807\u7528\u6237id\u6216\u8005screen_name",20503:"\u53c2\u6570user_id\u5fc5\u987b\u662f\u4f60\u5173\u6ce8\u7684\u7528\u6237",20504:"\u4f60\u4e0d\u80fd\u5173\u6ce8\u81ea\u5df1",20505:"\u52a0\u5173\u6ce8\u8bf7\u6c42\u8d85\u8fc7\u4e0a\u9650",20506:"\u5df2\u7ecf\u5173\u6ce8\u6b64\u7528\u6237",20507:"\u9700\u8981\u8f93\u5165\u9a8c\u8bc1\u7801",20508:"\u6839\u636e\u5bf9\u65b9\u7684\u8bbe\u7f6e\uff0c\u4f60\u4e0d\u80fd\u8fdb\u884c\u6b64\u64cd\u4f5c",20509:"\u6084\u6084\u5173\u6ce8\u4e2a\u6570\u5230\u8fbe\u4e0a\u9650",20510:"\u4e0d\u662f\u6084\u6084\u5173\u6ce8\u4eba",20511:"\u5df2\u7ecf\u6084\u6084\u5173\u6ce8\u6b64\u7528\u6237",20512:"\u4f60\u5df2\u7ecf\u628a\u6b64\u7528\u6237\u52a0\u5165\u9ed1\u540d\u5355\uff0c\u52a0\u5173\u6ce8\u524d\u8bf7\u5148\u89e3\u9664",20513:"\u4f60\u7684\u5173\u6ce8\u4eba\u6570\u5df2\u8fbe\u4e0a\u9650",20521:"hi\u8d85\u4eba\uff0c\u4f60\u4eca\u5929\u5df2\u7ecf\u5173\u6ce8\u5f88\u591a\u55bd\uff0c\u63a5\u4e0b\u6765\u7684\u65f6\u95f4\u60f3\u60f3\u5982\u4f55\u8ba9\u5927\u5bb6\u90fd\u6765\u5173\u6ce8\u4f60\u5427\uff01\u5982\u6709\u95ee\u9898\uff0c\u8bf7\u8054\u7cfb\u65b0\u6d6a\u5ba2\u670d\uff1a400 690 0000",20522:"\u8fd8\u672a\u5173\u6ce8\u6b64\u7528\u6237",20523:"\u8fd8\u4e0d\u662f\u7c89\u4e1d",20524:"hi\u8d85\u4eba\uff0c\u4f60\u4eca\u5929\u5df2\u7ecf\u53d6\u6d88\u5173\u6ce8\u5f88\u591a\u55bd\uff0c\u63a5\u4e0b\u6765\u7684\u65f6\u95f4\u60f3\u60f3\u5982\u4f55\u8ba9\u5927\u5bb6\u90fd\u6765\u5173\u6ce8\u4f60\u5427\uff01\u5982\u6709\u95ee\u9898\uff0c\u8bf7\u8054\u7cfb\u65b0\u6d6a\u5ba2\u670d\uff1a400 690 0000",20525:"\u5df2\u7ecf\u662f\u5bc6\u53cb\u4e86",20526:"\u5df2\u7ecf\u53d1\u9001\u8fc7\u5bc6\u53cb\u9080\u8bf7",20527:"\u5bc6\u53cb\u6570\u5230\u8fbe\u4e0a\u9650",20528:"\u4e0d\u662f\u5bc6\u53cb",20601:"\u5217\u8868\u540d\u592a\u957f\uff0c\u8bf7\u786e\u4fdd\u8f93\u5165\u7684\u6587\u672c\u4e0d\u8d85\u8fc710\u4e2a\u5b57\u7b26",20602:"\u5217\u8868\u63cf\u53d9\u592a\u957f\uff0c\u8bf7\u786e\u4fdd\u8f93\u5165\u7684\u6587\u672c\u4e0d\u8d85\u8fc770\u4e2a\u5b57\u7b26",20603:"\u5217\u8868\u4e0d\u5b58\u5728",20604:"\u4e0d\u662f\u5217\u8868\u7684\u6240\u5c5e\u8005",20605:"\u5217\u8868\u540d\u6216\u63cf\u53d9\u4e0d\u5408\u6cd5",20606:"\u8bb0\u5f55\u5df2\u5b58\u5728",20607:"\u6570\u636e\u5e93\u9519\u8bef\uff0c\u8bf7\u8054\u7cfb\u7cfb\u7edf\u7ba1\u7406\u5458",20608:"\u5217\u8868\u540d\u51b2\u7a81",20610:"\u76ee\u524d\u4e0d\u652f\u6301\u79c1\u6709\u5206\u7ec4",20611:"\u521b\u5efa\u5217\u8868\u5931\u8d25",20612:"\u76ee\u524d\u53ea\u652f\u6301\u79c1\u6709\u5206\u7ec4",20613:"\u8ba2\u9605\u5217\u8868\u8fbe\u5230\u4e0a\u9650",20614:"\u521b\u5efa\u5217\u8868\u8fbe\u5230\u4e0a\u9650\uff0c\u8bf7\u53c2\u8003API\u6587\u6863",20615:"\u5217\u8868\u6210\u5458\u4e0a\u9650\uff0c\u8bf7\u53c2\u8003API\u6587\u6863",20701:"\u4e0d\u80fd\u63d0\u4ea4\u76f8\u540c\u7684\u6536\u85cf\u6807\u7b7e",20702:"\u6700\u591a\u4e24\u4e2a\u6536\u85cf\u6807\u7b7e",20703:"\u6536\u85cf\u6807\u7b7e\u540d\u4e0d\u5408\u6cd5",20704:"\u60a8\u5df2\u7ecf\u6536\u85cf\u4e86\u6b64\u5fae\u535a",20705:"\u6b64\u5fae\u535a\u4e0d\u662f\u60a8\u7684\u6536\u85cf",20706:"\u64cd\u4f5c\u5931\u8d25",20801:"\u53c2\u6570trend_name\u662f\u7a7a\u503c",20802:"\u53c2\u6570trend_id\u662f\u7a7a\u503c",21001:"\u6807\u7b7e\u53c2\u6570\u4e3a\u7a7a",21002:"\u6807\u7b7e\u540d\u592a\u957f\uff0c\u8bf7\u786e\u4fdd\u6bcf\u4e2a\u6807\u7b7e\u540d\u4e0d\u8d85\u8fc714\u4e2a\u5b57\u7b26",21101:"\u53c2\u6570domain\u9519\u8bef",21102:"\u8be5\u624b\u673a\u53f7\u5df2\u7ecf\u88ab\u4f7f\u7528",21103:"\u8be5\u7528\u6237\u5df2\u7ecf\u7ed1\u5b9a\u624b\u673a",21104:"Verifier\u9519\u8bef",21105:"\u4f60\u7684\u624b\u673a\u53f7\u8fd1\u671f\u9891\u7e41\u7ed1\u5b9a\u8fc7\u591a\u4e2a\u5e10\u53f7\uff0c\u8bf7\u62e8\u6253\u5ba2\u670d\u7535\u8bdd400 690 0000",21106:"\u6635\u79f0\u975e\u6cd5",21107:"\u63cf\u8ff0\u975e\u6cd5",21108:"\u539f\u59cb\u5bc6\u7801\u9519\u8bef",21109:"\u65b0\u5bc6\u7801\u9519\u8bef",21110:"\u6b64\u7528\u6237\u6682\u65f6\u6ca1\u6709\u7ed1\u5b9a\u624b\u673a",21111:"\u6559\u80b2\u4fe1\u606f\u8fc7\u591a",21112:"\u5b66\u6821\u4e0d\u5b58\u5728",21113:"\u6559\u80b2\u4fe1\u606f\u4e0d\u5b58\u5728",21114:"\u6ca1\u6709\u7528\u6237\u6709\u6559\u80b2\u4fe1\u606f",21115:"\u804c\u4e1a\u4fe1\u606f\u4e0d\u5b58\u5728",21116:"\u6ca1\u6709\u7528\u6237\u6709\u804c\u4e1a\u4fe1\u606f",21117:"\u6b64\u7528\u6237\u6ca1\u6709qq\u4fe1\u606f",21118:"\u5b66\u6821\u5df2\u5b58\u5728",21119:"\u6ca1\u6709\u5408\u6cd5\u7684uid",21120:"\u6b64\u7528\u6237\u6ca1\u6709\u5fae\u53f7\u4fe1\u606f",21121:"\u6b64\u5fae\u53f7\u5df2\u7ecf\u5b58\u5728",21122:"\u7528\u6237\u624b\u673a\u7ed1\u5b9a\u72b6\u6001\u4e3a\u5f85\u7ed1\u5b9a",21123:"\u7528\u6237\u672a\u7ed1\u5b9a\u624b\u673a",21138:"\u53c2\u6570key\u4e0d\u662f\u6709\u6548\u7684\u65e0\u7ebf\u53f7\u6bb5",21139:"\u5173\u952e\u5b57\u7981\u6b62",21301:"\u8ba4\u8bc1\u5931\u8d25",21302:"\u7528\u6237\u540d\u6216\u5bc6\u7801\u4e0d\u6b63\u786e",21303:"\u7528\u6237\u540d\u5bc6\u7801\u8ba4\u8bc1\u8d85\u8fc7\u8bf7\u6c42\u9650\u5236",21304:"\u7248\u672c\u53f7\u9519\u8bef",21305:"\u7f3a\u5c11\u5fc5\u8981\u7684\u53c2\u6570",21306:"OAuth\u53c2\u6570\u88ab\u62d2\u7edd",21307:"\u65f6\u95f4\u6233\u4e0d\u6b63\u786e",21308:"\u53c2\u6570nonce\u5df2\u7ecf\u88ab\u4f7f\u7528",21309:"\u7b7e\u540d\u7b97\u6cd5\u4e0d\u652f\u6301",21310:"\u7b7e\u540d\u503c\u4e0d\u5408\u6cd5",21311:"\u53c2\u6570consumer_key\u4e0d\u5b58\u5728",21312:"\u53c2\u6570consumer_key\u4e0d\u5408\u6cd5",21313:"\u53c2\u6570consumer_key\u7f3a\u5931",21314:"Token\u5df2\u7ecf\u88ab\u4f7f\u7528",21315:"Token\u5df2\u7ecf\u8fc7\u671f",21316:"Token\u4e0d\u5408\u6cd5",21317:"Token\u4e0d\u5408\u6cd5",21318:"Pin\u7801\u8ba4\u8bc1\u5931\u8d25",21319:"\u6388\u6743\u5173\u7cfb\u5df2\u7ecf\u88ab\u89e3\u9664",21320:"\u4e0d\u652f\u6301\u7684\u534f\u8bae",21321:"\u672a\u5ba1\u6838\u7684\u5e94\u7528\u4f7f\u7528\u4eba\u6570\u8d85\u8fc7\u9650\u5236",21322:"\u91cd\u5b9a\u5411\u5730\u5740\u4e0d\u5339\u914d",21323:"\u8bf7\u6c42\u4e0d\u5408\u6cd5",21324:"client_id\u6216client_secret\u53c2\u6570\u65e0\u6548",21325:"\u63d0\u4f9b\u7684Access Grant\u662f\u65e0\u6548\u7684\u3001\u8fc7\u671f\u7684\u6216\u5df2\u64a4\u9500\u7684",21326:"\u5ba2\u6237\u7aef\u6ca1\u6709\u6743\u9650",21327:"token\u8fc7\u671f",21328:"\u4e0d\u652f\u6301\u7684 GrantType",21329:"\u4e0d\u652f\u6301\u7684 ResponseType",21330:"\u7528\u6237\u6216\u6388\u6743\u670d\u52a1\u5668\u62d2\u7edd\u6388\u4e88\u6570\u636e\u8bbf\u95ee\u6743\u9650",21331:"\u670d\u52a1\u6682\u65f6\u65e0\u6cd5\u8bbf\u95ee",21332:"\u65e0\u6548",21333:"\u7981\u6b62\u4f7f\u7528\u6b64\u8ba4\u8bc1\u65b9\u5f0f",21334:"\u5e10\u53f7\u72b6\u6001\u4e0d\u6b63\u5e38",21501:"\u53c2\u6570urls\u662f\u7a7a\u7684",21502:"\u53c2\u6570urls\u592a\u591a\u4e86",21503:"IP\u662f\u7a7a\u503c",21504:"\u53c2\u6570url\u662f\u7a7a\u503c",21601:"\u7cfb\u7edf\u7e41\u5fd9\u8bf7\u91cd\u8bd5",21602:"\u627e\u4e0d\u5230\u6a21\u677fID XXX",21603:"\u4fee\u6539\u6570\u636e\u62a5\u9519",21604:"\u5df2\u6709\u901a\u77e5\u7684appkey\u6821\u9a8c\u5931\u8d25",21605:"\u521b\u5efa\u6a21\u677f\u8d85\u8fc7\u6700\u5927\u9650\u5236",21610:"\u6388\u6743\u5931\u8d25",21611:"\u975e\u6cd5appkey",21612:"\u65e0\u6548IP",21613:"\u53c2\u6570\u9519\u8bef\uff0c\u9700\u8981\u901a\u77e5id\u6216\u8005\u6807\u9898\u5185\u5bb9\u53c2\u6570",21620:"\u53c2\u6570\u9519\u8bef\uff0cuid\u53c2\u6570\u5fc5\u987b\u4e0e\u767b\u5f55\u7528\u6237\u4e00\u81f4\uff0c\u6388\u6743\u7528\u6237uid %s \u53c2\u6570uid %s",21621:"appkey62\u65e0\u6548",21631:"\u6dfb\u52a0\u5c4f\u853d\u8fbe\u5230\u4e0a\u9650",21632:"\u7981\u6b62\u6dfb\u52a0\u672a\u6388\u6743\u7684\u5e94\u7528",21633:"\u6b64\u5e94\u7528\u6ca1\u6709\u53d1\u901a\u77e5\u6743\u9650\uff0c\u4e0d\u8bb8\u5c4f\u853d",21634:"\u5df2\u7ecf\u5c4f\u853d\u8fc7\u4e86",21635:"\u767d\u540d\u5355appkey\u7981\u6b62\u5c4f\u853d",21650:"\u672a\u627e\u5230\u901a\u77e5id",21651:"\u53ea\u6709appkey\u6240\u6709\u4eba\u80fd\u53d1\u901a\u77e5",21652:"\u901a\u77e5\u6a21\u677f\u72b6\u6001\u4e0d\u5bf9\uff0c\u4e0d\u80fd\u53d1\u9001",21653:"\u901a\u77e5\u6a21\u677f\u4e0e\u53d1\u9001\u901a\u77e5appkey\u4e0d\u4e00\u81f4",21654:"\u901a\u77e5\u53d1\u9001\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5",21655:"\u901a\u77e5\u8bf7\u6c42\u975e\u6cd5",21656:"\u901a\u77e5\u6a21\u677f\u4e0e\u53d1\u9001\u901a\u77e5\u53d8\u91cf\u4e0d\u5339\u914d",21701:"\u63d0\u9192\u5931\u8d25\uff0c\u9700\u8981\u6743\u9650",21702:"\u65e0\u6548\u5206\u7c7b",21703:"\u65e0\u6548\u72b6\u6001\u7801",21901:"\u5730\u7406\u4fe1\u606f\u8f93\u5165\u9519\u8bef",22301:"\u9080\u8bf7\u5904\u7406\u5931\u8d25!",22302:"\u9700\u8981\u662f\u88ab\u9080\u8bf7\u4eba\u7684\u5173\u6ce8\u7528\u6237!",22303:"\u91cd\u590d\u9080\u8bf7!",22304:"\u4e0d\u80fd\u81ea\u5df1\u9080\u8bf7\u81ea\u5df1!",22305:"\u5df2\u662f\u5173\u6ce8\u7528\u6237\uff0c\u4e0d\u80fd\u53d1\u9001\u5173\u6ce8\u9080\u8bf7!",22306:"\u5f53\u7528\u6237\u4e0d\u5728\u6e38\u620f\u4e2d\u65f6\uff0c\u4e0d\u80fd\u53d1\u9001\u6e38\u620f\u9080\u8bf7!",22307:"\u9080\u8bf7\u5bf9\u8c61\u5728\u9ed1\u540d\u5355\u4e2d!",22308:"\u9700\u8981\u76f8\u4e92\u5173\u6ce8!",22309:"\u62d2\u7edd\u6240\u6709\u9080\u8bf7!",22310:"\u6b64\u5e94\u7528\u7684\u9080\u8bf7\u88ab\u5c4f\u853d!",22311:"\u9700\u8981\u5bc6\u53cb\u5173\u7cfb!",22312:"\u6b64\u7528\u6237\u7684\u9080\u8bf7\u88ab\u5c4f\u853d!",22313:"\u4e0d\u662f\u53ef\u4fe1\u7528\u6237!",22314:"\u5185\u5bb9\u4e0d\u5408\u6cd5!",22315:"\u9700\u8981V\u7528\u6237!",22316:"\u9080\u8bf7\u8fbe\u5230\u53d1\u9001\u9650\u5236!",22317:"\u6ca1\u6709\u88ab\u5bc6\u53cb\u9080\u8bf7!",22318:"\u5bc6\u53cb\u5173\u7cfb\u4e0d\u540c\u6b65!",22319:"\u6570\u636e\u5e93\u8fde\u63a5\u5931\u8d25!",22320:"\u8f93\u5165\u6587\u5b57\u592a\u957f\uff0c\u8bf7\u786e\u8ba4\u4e0d\u8d85\u8fc750\u4e2a\u5b57\u7b26!",22321:"\u91cd\u590d\u5c4f\u853d\u8be5\u5e94\u7528!",22322:"\u5c4f\u853d\u5e94\u7528\u6570\u8fbe\u5230\u4e0a\u9650!",22323:"\u8be5\u5e94\u7528\u672a\u5728\u5c4f\u853d\u5217\u8868\u4e2d!",22324:"\u7528\u6237\u4e0d\u5728\u9ed1\u540d\u5355\u4e2d!",22325:"\u8fbe\u5230\u5bc6\u53cb\u4e0a\u9650\uff0c\u4e0d\u80fd\u518d\u6dfb\u52a0\u5bc6\u53cb!"}},c.MSG.get=function(a,b,d){return d=d||"",c.MSG[a][b]||d
}}(window,SINA),function(a,b){var c=a.Weibo,d=function(){},e=b.extend,f=b.EventTarget,g="sinaSSOController",h="\u672a\u8f7d\u5165 SSO \u767b\u5f55\u6a21\u5757",i="login",j="logout",k=!1,l="";c.Login={setup:function(b){if(!k){var e,f,m,n,c=window[g],d=this;if(!c)return alert(h),void 0;location.host.match(/^([^\.]+\.)*weibo\.com$/)&&(c.entry="general",c.domain="weibo.com",c.feedBackUrl="",c.appLoginURL["weibo.com"]="http://weibo.com/sso/login.php",c.useTicket=!0),e=c.customLoginCallBack,f=c.customLogoutCallBack,b=b||{},m=b.onlogin||null,n=b.onlogout||null,m&&(d.onlogin=m),n&&(d.onlogout=n),c.customLoginCallBack=function(b){return 4049==b.errno?(a.location.href="http://login.sina.com.cn/signup/signin.php?username="+(l||"")+"&retcode=4049&r="+encodeURI(a.location.href),void 0):(e&&e.call(c,b),d.trigger(i,{status:b}),d.onlogin&&d.onlogin(b),void 0)},c.customLogoutCallBack=function(a){f&&f.call(c,a),d.trigger(j,{status:a}),d.onlogout&&d.onlogout(a)},k=!0}},check:function(){var b,a=window[g];return a?(b=a.getSinaCookie(),b&&b.uid?b:null):(alert(h),void 0)},autoLogin:function(a){var b=window[g],e=this;return b?(k||e.setup(),a=a||d,b.autoLogin(a),void 0):(alert(h),void 0)},login:function(a,b,c,d){var f,e=window[g],i=this;return e?(l=a,k||i.setup(),d&&(f=i.onlogin,i.onlogin=function(a){f&&f(a),d&&d(a),i.onlogin=f}),c?e.login(a,b,14):e.login(a,b),void 0):(alert(h),void 0)},logout:function(a){var c,b=window[g],d=this;return b?(k||d.setup(),a&&(c=d.onlogout,d.onlogout=function(b){c&&c(b),a&&a(b),d.onlogout=c}),b.logout(),void 0):(alert(h),void 0)},onlogin:null,onlogout:null,addLoginCallback:function(a){this.addListener(i,a)},addLogoutCallback:function(a){this.addListener(j,a)},removeLoginCallback:function(a){this.removeListener(i,a)},removeLogoutCallback:function(a){this.removeListener(j,a)}},e(c.Login,f.prototype)}(window,SINA),function(a,b){var c=a.document,d=c.documentElement,e=a.Weibo,f=e.Utils,h=(b.Widget,b.Event),l=(b.createWidget,b.extend,b.query,b.isNumber),m=b.DOM.style,n=h.addListener,p=(h.removeListener,b.UA.ie),r=(f.cloneNode,f.createFromString),s="weibo-",t="dialog",u=".",v=s+t+"-",w=v+"hd",x=v+"bd",y=v+"title",z=v+"close",A='<div class="',B='"></div>',C=A+w+B,D=A+x+B,E=A+y+B,F='<a title="\u5173\u95ed" class="'+z+'" href="javascript:void(0);">x</a>',G=v+"overlay-b",H=v+"overlay-p",I=A+G+B,J=A+H+B,K="show",L="hide",M="move",N=e.createWidget({CSS_PREFIX:s,initializer:function(a){var b,c={},d=!0,e=!1;a&&(d=a.borderWidth||"",l(d)&&(d+="px"),e=!!a.overlay,show=a.show||!1,b=a.children,b&&(c.title=b.title||"",c.body=b.body||"")),this._borderWidth=d,this._hasOverlay=e,this._show=show,this._children=c},destructor:function(){},renderer:function(){var i,j,a=this.wrapperBox,b=this.contentBox,d=(this.constructor,this.elements),e=d.header,f=d.body,g=d.title,h=d.close,k=this._borderWidth,l=this._children,m=this;if(a.style.position="absolute",b.style.position="relative",e||f||(e=r(C),f=r(D),g=r(E),h=r(F),g.innerHTML=l.title||"",f.innerHTML=l.body||"",e.appendChild(g),e.appendChild(h),b.appendChild(e),b.appendChild(f),d.header=e,d.title=g,d.close=h,d.body=f),k&&(this.borderBox=i=r(I),i.style.position="absolute",i.style.left="-"+k,i.style.top="-"+k,a.insertBefore(i,b)),this._hasOverlay&&(this.overlayBox=j=r(J),j.style.position="absolute",j.style.left=0,j.style.top=0,a.parentNode.insertBefore(j,a)),a.style.display=this._show?"block":"none",j&&(j.style.display=this._show?"block":"none"),n(h,"click",function(a){m.hide(),a.preventDefault()}),6==p){var o='<iframe frameborder="1" tabindex="-1" src="about:blank" style="display:block;position:absolute;z-index:-1;filter:Alpha(Opacity=\'0\');top:0;left:0;width:expression(this.parentNode.offsetWidth+\'px\');height:expression(this.parentNode.offsetHeight+\'px\');"></iframe>',q=r(o);a.appendChild(q)}},move:function(a,b){if(this._rendered&&!this._destroyed){this.trigger(M,{x:a,y:b});var c=this.wrapperBox;c.style.left=l(a)?a+"px":a,c.style.top=l(b)?b+"px":b}},show:function(){if(this._rendered&&!this._destroyed){this.trigger(K);var a=this.wrapperBox,b=this.overlayBox;this.borderBox,this._adjustSize(),a.style.display="block",b&&(b.style.display="block")}},_adjustSize:function(){if(this._rendered&&!this._destroyed){var a=this.wrapperBox,b=this.overlayBox,c=this.borderBox,e=parseInt(this._borderWidth)||0,f=parseInt(m(a,"width"))||0,g=parseInt(m(a,"height"))||0;b&&(b.style.width=(d&&d.scrollWidth||2e3)+"px",b.style.height=(d&&d.scrollHeight||2e3)+"px"),c&&(c.style.width=f+2*e+"px",c.style.height=g+2*e+"px")}},hide:function(){if(this._rendered&&!this._destroyed){this.trigger(L);var a=this.wrapperBox,b=this.overlayBox;a.style.display="none",b&&(b.style.display="none")}},moveToPageCenter:function(){var g,h,i,j,k,l,n,o,b=this.wrapperBox,e=a.self,f=c.body;i=e.pageXOffset||d&&d.scrollLeft||f.scrollLeft||0,j=e.pageYOffset||d&&d.scrollTop||f.scrollTop||0,k=e.innerWidth||d&&d.clientWidth||f.clientWidth||0,l=e.innerHeight||d&&d.clientHeight||f.clientHeight||0,n=parseInt(m(b,"width"))||0,o=parseInt(m(b,"height"))||0,g=i+k/2-n/2,h=j+l/2-o/2,0>g&&(g=0),0>h&&(h=0),this.move(g,h)}},{NAME:t,HEADER_TEMPLATE:C,BODY_TEMPLATE:D,CLOSE_TEMPLATE:F,TITLE_TEMPLATE:E,_queries:{header:u+w,body:u+x,title:u+y,close:u+z},_classNames:{header:w,body:x,title:y,close:z}});e.Classes.Dialog=N}(window,SINA),function(a,b){var c=a.document,e=(c.documentElement,a.Weibo),f=e.Utils,i=(f.Textarea,f.cloneNode,f.createFromString),k=(f.updateWordCount,b.extend),l=b.query,n=(b.later,b.trim),o=b.DOM,q=(o.style,o.attr),r=b.Event,s=r.addListener,v=(r.removeListener,"weibo-"),w="logindialog",x=".",z=v+w+"-",A=z+"box",B=z+"form",C=z+"signup",D=z+"tip",E=z+"account",F=z+"password",G=z+"remember",H=z+"actions",I=z+"submit",J=z+"lostpwd",K="http://weibo.com/signup/signup.php",L="http://login.sina.com.cn/member/getpwd/getpwd0.php?entry=sso",M='<div class="',N='">',O="</div>",P='<p class="',Q='">',R="</p>",S=M+A+N+O,T=M+B+N+O,U=M+C+N+'\u8fd8\u6ca1\u6709\u5fae\u535a\u5e10\u53f7\uff1f<a href="'+K+'" target="_blank">\u7acb\u5373\u514d\u8d39\u6ce8\u518c</a>'+O,V=P+D+Q+"\u60a8\u5c1a\u672a\u767b\u5f55\u65b0\u6d6a\u5fae\u535a\uff0c\u8bf7\u5148\u767b\u5f55"+R,W=P+E+Q+"<label>\u90ae\u7bb1/\u4f1a\u5458\u5e10\u53f7/\u624b\u673a\u53f7:</label><br />"+'<input type="text" />'+R,X=P+F+Q+"<label>\u8bf7\u8f93\u5165\u5bc6\u7801:</label><br />"+'<input type="password" />'+R,Y=P+G+Q+'<input type="checkbox" checked="checked" /> '+"<label>\u4e0b\u6b21\u81ea\u52a8\u767b\u5f55</label>"+R,Z=P+H+" weibo-clearfix"+Q+'<a class="weibo-button '+I+'" href="javascript:void(0)">\u767b\u5f55\u5fae\u535a</a><a class="'+J+'" href="'+L+'" target="_blank">\u627e\u56de\u5bc6\u7801</a>'+R,$="login",_="success",ab="failure",bb=e.createWidget(e.Classes.Dialog,{CSS_PREFIX:v,initializer:function(a){var b={};a&&(k(b,a.children),b.title=b.title||"\u767b\u5f55"),this._children=b},renderer:function(){var v,w,y,z,A,B,b=this,f=(b.constructor,b.wrapperBox,b.contentBox,b.elements),j=(f.header,f.title,f.body),k=f.loginbox,m=f.form,o=f.tip,p=f.account,r=f.password,t=f.remember,u=f.submit,C=b._children;k&&p&&r&&u||(k=i(bb.LOGINBOX_TEMPLATE),m=i(bb.FORM_TEMPLATE),v=i(bb.SIGNUP_TEMPLATE),m.innerHTML=bb.TIP_TEMPLATE+bb.ACCOUNT_TEMPLATE+bb.PASSWORD_TEMPLATE+bb.REMEMBER_TEMPLATE+bb.ACTIONS_TEMPLATE,k.appendChild(m),k.appendChild(v),j.appendChild(k),b.queryElements(),o=f.tip,p=f.account,r=f.password,t=f.remember,u=f.submit,w=l(x+E+" label",m)[0],y=l(x+F+" label",m)[0],z=l(x+G+" label",m)[0],B=(new Date).getTime(),A="account-"+B,p.id=A,q(w,"for",A),A="password-"+B,r.id=A,q(y,"for",A),A="remember-"+B,t.id=A,q(z,"for",A),C.tip&&(o.innerHTML=C.tip)),s(p,"keydown",function(a){if(13===a.keyCode){var c=n(p.value),d=r.value,e=t.checked;return b.trigger($,{account:c,password:d,remember:e}),!1}}),s(r,"keydown",function(a){if(13===a.keyCode){var c=n(p.value),d=r.value,e=t.checked;return b.trigger($,{account:c,password:d,remember:e}),!1}}),s(u,"click",function(){var c=n(p.value),d=r.value,e=t.checked;return b.trigger($,{account:c,password:d,remember:e}),!1})},show:function(){this.moveToPageCenter(),this.constructor.superclass.show.call(this)},reset:function(a,b,c){if(this._rendered&&!this._destroyed){a=a||"",b=b||"",c=c||!1;var d=this.elements,e=d.account,f=d.password,g=d.remember;e.value=a,f.value=b,g.checked=!!c}},setTip:function(a){this._rendered&&!this._destroyed&&(this.elements.tip.innerHTML=a,this._adjustSize())},focus:function(){if(this._rendered&&!this._destroyed)try{this.elements.account.focus()}catch(a){}},destructor:function(){}},{NAME:w,LOGINBOX_TEMPLATE:S,FORM_TEMPLATE:T,SIGNUP_TEMPLATE:U,TIP_TEMPLATE:V,ACCOUNT_TEMPLATE:W,PASSWORD_TEMPLATE:X,REMEMBER_TEMPLATE:Y,ACTIONS_TEMPLATE:Z,_queries:{loginbox:x+A,form:x+B,tip:x+D,account:x+E+" input",password:x+F+" input",remember:x+G+" input",submit:x+I},_classNames:{box:A,form:B,tip:D,account:E,password:F,remember:G,actions:H,submit:I,lostpwd:J,signup:C},EVENTS:{LOGIN:$,SUCCESS:_,FAILURE:ab}});e.Classes.LoginDialog=bb}(window,SINA),function(a,b){var c=a.document,e=(c.documentElement,a.Weibo),f=e.Utils,i=(f.Textarea,f.cloneNode,f.createFromString),m=(e.apis,b.extend,b.query,b.DOM),o=(m.children,b.Event),q=(o.delegate,o.addListener),r=o.removeListener,t=(b.trim,"weibo-"),u="message",v=".",x=t+u+"-",y=x+"tip",z=x+"buttons",A=x+"yes",B=x+"no",C='<div class="',D='">',E="</div>",F='<span class="',G='">',H="</span>",I="<p>",J="</p>",K=F+x+"question"+G+H,L=F+x+"warn"+G+H,M=F+x+"info"+G+H,N=F+x+"right"+G+H,O=F+x+"wrong"+G+H,P=C+y+" weibo-clearfix"+D+E,Q=C+z+D+'<a class="'+A+'" href="javascript:void(0)"><em>\u786e\u5b9a</em></a><a class="'+B+'" href="javascript:void(0)"><em>\u53d6\u6d88</em></a>'+E,R="click",S="yes",T="no",U=e.createWidget(e.Classes.Dialog,{CSS_PREFIX:t,initializer:function(){},renderer:function(){var b=this,f=(b.constructor,b.wrapperBox,b.contentBox,b.elements),g=f.header,j=(f.title,f.body),k=f.tip,l=f.buttons,m=f.yes,n=f.no;g.style.display="none",k&&l||(k=i(P),l=i(Q),j.appendChild(k),j.appendChild(l),b.queryElements(),m=f.yes,n=f.no),q(m,R,function(a){b.trigger(S),a.preventDefault()}),q(n,R,function(a){b.trigger(T),a.preventDefault()}),q(b.overlayBox,R,function(){b.hide()})},show:function(a,b){if(a){var c=this.elements,d=c.tip,e=c.buttons;switch(b){case"question":d.innerHTML=K+I+a+J,e.style.display="block";break;case"warn":d.innerHTML=L+I+a+J,e.style.display="none";break;case"right":d.innerHTML=N+I+a+J,e.style.display="none";break;case"wrong":d.innerHTML=O+I+a+J,e.style.display="none";break;default:d.innerHTML=M+I+a+J,e.style.display="none"}this.moveToPageCenter(),this.constructor.superclass.show.call(this)}},destructor:function(){var a=this.elements,b=a.yes,c=a.no,d=this.wrapperBox;r(b,R),r(c,R),d.parentNode.removeChild(d)}},{NAME:u,_queries:{tip:v+y,buttons:v+z,yes:v+A,no:v+B},EVENTS:{YES:S,NO:T}});e.Classes.MessageDialog=U}(window,SINA),function(a,b){var c=a.document,e=(c.documentElement,a.Weibo),f=e.Utils,h=(f.Textarea,f.Time),i=h.timestamp,j=h.displayString,k=f.createFromString,l=f.replaceStatusText,m=f.htmlEncode,n=b.extend,o=b.query,p=b.isArray,q=b.DOM,s=(q.children,b.Event),t=s.delegate,u=Array.prototype.splice,v="weibo-",w="commentlist",x=".",z=v+w+"-",A=z+"list",B=z+"item",C=z+"head",D=z+"feed",E=z+"text",F=z+"time",G=z+"actions",H=z+"reply",I=x+H,M='<ol class="'+A+'"></ol>',N="click-reply",O="http://weibo.com/",P=function(a){var b=[],c=a.id,d=a.text,e=a.created_at||0,f=a.user,g=f.id,h=f.screen_name,n=(f.verified,O+(f.profile_url||"u/"+g)),o=f.profile_image_url;return o=o.replace("/50/","/30/"),b.push('<li id="weibo-comment-'),b.push(c),b.push('" class="'),b.push(B),b.push(' weibo-clearfix"><a class="'),b.push(C),b.push('" target="_blank" href="'),b.push(n),b.push('" title="'),b.push(h),b.push('"><img src="'),b.push(o),b.push('" title="'),b.push(h),b.push('" /></a>'),b.push('<div class="'),b.push(D),b.push('"><p class="'),b.push(E),b.push('"><a target="_blank" href="'),b.push(n),b.push('" title="'),b.push(h),b.push('">'),b.push(h),b.push("</a>\uff1a"),b.push(l(m(d))),b.push(' <span class="'),b.push(F),b.push('">('),b.push(j(i(e))),b.push(')</span></p><div class="'),b.push(G),b.push('"><a class="'),b.push(H),b.push('" href="javascript:void(0)">\u56de\u590d</a>'),b.push("</div></div></li>"),b.join("")},Q=e.createWidget({CSS_PREFIX:v,initializer:function(a){var b={},c=[],d=10;a&&(d=a.capacity||d,n(b,a.children),c=a.data||c),this._capacity=d,this._comments=c,this._children=b},renderer:function(){var r,b=this,e=(b.constructor,b.wrapperBox,b.contentBox),f=b.elements,g=f.list,q=b._comments,u=(b._children,b._capacity);g||(g=k(Q.LIST_TEMPLATE),e.appendChild(g),f.list=g),q&&(-1!==u&&q.length>u&&(q=q.slice(0,u)),r=Q._buildList(q),g.innerHTML=r),t(g,"click",I,function(a){var f,c=o(I,g),d=0,e=this;if(c.indexOf)d=c.indexOf(this);else for(var h=0,i=c.length;i>h;h++)c[h]===this&&(d=h);e=this,f=b._comments[d]||null,b.trigger(N,{index:d,comment:f,clickedElement:e}),a.preventDefault()})},length:function(){return!this._rendered||this._destroyed?0:this._comments&&this._comments.length||0},insert:function(a,b){if(this._rendered&&!this._destroyed){b=parseInt(b)||0;var c=this._comments,d=this._capacity,e=this.elements.list;p(a)||(a=[a]),0===b?a=a.concat(c):b>=this.length()?a=c.concat(a):(a.unshift(b,0),u.apply(c,a),a=c),-1!==d&&a.length>d&&(a=a.slice(0,d)),this._comments=a,e.innerHTML=Q._buildList(a)}},append:function(a){this.insert(a,this.length())},prepend:function(a){this.insert(a,0)},remove:function(a){this.removeRange(a,a+1)},removeRange:function(a,b){if(!this._rendered||this._destroyed)return 0;a=a||0,b=b||this.length();var c=this._comments,d=this.elements.list;c.splice(a,b-a),d.innerHTML=Q._buildList(c)},reset:function(a){var b=this._capacity,c=this.elements.list;p(a)&&(-1!==b&&a.length>b&&(a=a.slice(0,b)),this._comments=a,c.innerHTML=Q._buildList(a))},destructor:function(){}},{NAME:w,LIST_TEMPLATE:M,_queries:{list:x+A},_classNames:{list:A,item:B,head:C,feed:D,text:E,time:F,actions:G,reply:H},EVENTS:{REPLY:N},_buildList:function(a){var d,b=Q._buildItem,c=[],e=a&&a.length||0;for(h.update(),d=0;e>d;d++)c.push(b(a[d]));return c.join("")},_buildItem:P});e.Classes.CommentList=Q}(window,SINA),function(a,b){var c=a.document,e=(c.documentElement,a.Weibo),f=e.Classes.CommentList,g=e.Utils,h=g.Textarea,i=g.createFromString,j=b.extend,k=b.query,l=b.later,n=(b.isArray,b.DOM),q=(n.children,n.next,n.attr),r=b.Event,s=r.addListener,u=(r.delegate,"weibo-"),v="commentbox",w="images/loading.gif",x=".",z=u+v+"-",A=z+"form",B=z+"list",C=z+"more",D=z+"loading",E=z+"emoticons",F=z+"submit",G=z+"options",H=z+"rt",I=z+"to",J=z+"user",K='<div class="',L='">',M="</div>",N=K+A+L+M,O=K+B+L+M,P=K+C+L+M,Q=K+D+L+'<img src="'+w+'" />'+M,R='<a href="javascript:void(0)" title="\u8868\u60c5" class="'+E+'"></a>',S="<textarea></textarea>",T='<a href="javascript:void(0)" title="" class="'+F+' weibo-button">\u8bc4\u8bba</a>',U=K+G+L+'<p class="'+H+'"><input type="checkbox" />'+'<label>\u540c\u65f6\u8f6c\u53d1\u5230\u6211\u7684\u5fae\u535a</label></p><p class="'+I+'"><input type="checkbox" />'+'<label>\u540c\u65f6\u8bc4\u8bba\u7ed9\u539f\u6587\u4f5c\u8005 <span class="'+J+'"></span></label></p>'+M,V="submit",W="show-emoticons",X=e.createWidget({CSS_PREFIX:u,initializer:function(a){var b={},c=[],d=10;a&&(d=a.capacity||d,this._url=a.tweetUrl||"#",this._original=a.original||"",j(b,a.children),c=a.data||c),this._children=b,this._textRange=null,this._editorTimer=null,this._commentlist=new f({capacity:d,data:c})},renderer:function(){var r,t,u,v,w,x,y,C,D,b=this,e=(b.constructor,b.wrapperBox,b.contentBox),g=b.elements,j=g.form,m=g.list,n=g.editor,o=g.submit,p=g.emoticons,z=b._commentlist;b._comments,b._children,j&&m&&n&&o||(j=i(X.FORM_TEMPLATE),m=i(X.LIST_TEMPLATE),r=i(X.MORE_TEMPLATE),t=i(X.LOADING_TEMPLATE),j.innerHTML=X.EMOTICONS_TEMPLATE+X.EDITOR_TEMPLATE+X.SUBMIT_TEMPLATE+X.OPTIONS_TEMPLATE,r.innerHTML='<a href="'+b._url+'" target="_blank" title="\u70b9\u51fb\u67e5\u770b\u5168\u90e8\u8bc4\u8bba">'+"\u70b9\u51fb\u67e5\u770b\u5168\u90e8\u8bc4\u8bba &gt;&gt;</a>",e.appendChild(j),e.appendChild(m),e.appendChild(r),e.appendChild(t),b.queryElements(),j=g.form,m=g.list,r=g.more,t=g.loading,p=g.emoticons,n=g.editor,o=g.submit,u=g.retweet,v=g.retweetCheckbox,w=g.toOriginal,x=g.toOriginalCheckbox,y=g.user,D=(new Date).getTime(),C="rt-"+D,v.id=C,q(k("label",u)[0],"for",C),C="to-"+D,x.id=C,q(k("label",w)[0],"for",C)),b._original?(w.style.display="block",y.innerHTML=b._original):(w.style.display="none",y.innerHTML=""),z.render(m),b._commentlist=z,s(z,f.EVENTS.REPLY,function(a){var e,c=a.comment,d=n.value,f=/^\u56DE\u590D@[^\:]+\:/,g=c.user&&c.user.screen_name,i="\u56de\u590d@"+g+":";return b.cid=c.idstr,b.cmtUserStr=i,e=d.replace(f,i),e!==d||d.match(f)||(e=i+d),n.value=e,h.toTail(n),!1}),b._editorTimer=l(function(){n.style.height="18px";var a=18,b=n.scrollHeight;b=Math.round(b/a)*a,n.style.height=b+"px"},200,!0),s(p,"click",function(){return b._textRange=h.getPosition(n),b.trigger(W,{clickedElement:this}),!1}),s(o,"click",function(a){a.preventDefault();var c=n.value,d=g.retweetCheckbox.checked,e=g.toOriginalCheckbox.checked?1:0;b.trigger(V,{cid:b.cid||0,text:c,retweet:d,commentToOriginal:e,commentUserText:b.cmtUserStr||""})})},reset:function(a,b){if(this._rendered&&!this._destroyed){var c=this.elements,d=c.toOriginal,e=c.user,f=c.more;this._url=a,f.innerHTML='<a href="'+a+'" target="_blank" title="\u70b9\u51fb\u67e5\u770b\u5168\u90e8\u8bc4\u8bba">'+"\u70b9\u51fb\u67e5\u770b\u5168\u90e8\u8bc4\u8bba &gt;&gt;</a>",b?(d.style.display="block",e.innerHTML=b,this._original=b):(d.style.display="none",e.innerHTML="",this._original="")}},focus:function(){this._rendered&&!this._destroyed&&h.toHead(this.elements.editor)},setListData:function(a){this._rendered&&!this._destroyed&&this._commentlist.reset(a)},insertList:function(a,b){this._rendered&&!this._destroyed&&this._commentlist.insert(a,b)},insertText:function(a,b){if(this._rendered&&!this._destroyed){var d,c=this.elements.editor;"head"===b?(h.toHead(c),d=h.getPosition(c),this._textRange=d):"tail"!==b&&this._textRange?d=this._textRange:(h.toTail(c),d=h.getPosition(c),this._textRange=d),h.setText(c,d,a)}},removeText:function(a){if(this._rendered&&!this._destroyed){var b=this.elements.editor,c=b.value||"";this.elements.tip,b.value=a?c.replace(a,""):""}},toggleLoading:function(a){if(this._rendered&&!this._destroyed){var b=this.elements,c=b.list,d=b.more,e=b.loading;a?(c.style.display="none",d.style.display="none",e.style.display="block"):(c.style.display="block",d.style.display="block",e.style.display="none")}},destructor:function(){}},{NAME:v,FORM_TEMPLATE:N,LIST_TEMPLATE:O,MORE_TEMPLATE:P,LOADING_TEMPLATE:Q,EMOTICONS_TEMPLATE:R,EDITOR_TEMPLATE:S,SUBMIT_TEMPLATE:T,OPTIONS_TEMPLATE:U,_queries:{form:x+A,list:x+B,editor:x+A+" textarea",more:x+C,loading:x+D,emoticons:x+E,submit:x+F,retweet:x+H,retweetCheckbox:x+H+" input",toOriginal:x+I,toOriginalCheckbox:x+I+" input",user:x+J},_classNames:{form:A,more:C,loading:D,emoticons:E,submit:F,options:G,retweet:H,toOriginal:I,user:J},EVENTS:{SUBMIT:V,EMOTICONS:W}});e.Classes.CommentBox=X}(window,SINA),function(a,b){var d=(a.document,a.Weibo),e=d.Utils,f=d.Classes,g=f.CommentBox,h=f.Dialog,j=(e.createFromString,b.extend),k=b.later,l=b.Array.forEach,m=b.DOM,n=b.Event,o=m.style,p=n.addListener,q="weibo-",r="commentpopup",y=["insertText","removeText","focus","reset"],z=g.EVENTS,A=[z.SUBMIT,z.EMOTICONS],B=d.createWidget(h,{CSS_PREFIX:q,initializer:function(a){var b={};a&&(j(b,a.children),b.title=b.title||"\u8bc4\u8bba"),this._children=b,this._resizeTimer=null,this._metrics={}},destructor:function(){},renderer:function(){var a=this,c=(a.wrapperBox,a.contentBox),e=(a.constructor,a.elements),h=(e.title,e.body),i=new g({capacity:-1,tweetUrl:"#",width:a._width-35});i.render(h),a._commentbox=i,l(y,function(b){a[b]=function(){i[b].apply(i,arguments)}}),l(A,function(b){p(i,b,function(c){a.trigger(b,c)})}),a._metrics.width=o(c,"width"),a._metrics.height=o(c,"height"),a._resizeTimer=k(function(){var b=a._metrics,d=o(c,"width"),e=o(c,"height");(b.width!==d||b.height!==e)&&(b.width=d,b.height=e,a._adjustSize())},200,!0)},show:function(){this.moveToPageCenter(),this._commentbox.toggleLoading(!0),this.constructor.superclass.show.call(this)},setListData:function(a){this._commentbox.setListData(a),this._commentbox.toggleLoading(!1)}},{NAME:r,_queries:{},_classNames:{},EVENTS:{SHOW:"show",HIDE:"hide",MOVE:"move",SUBMIT:"submit",EMOTICONS:"show-emoticons"}});d.Classes.CommentDialog=B}(window,SINA),function(a,b){var c=a.document,e=(c.documentElement,a.Weibo),f=e.Utils,i=(f.Textarea,f.cloneNode,f.createFromString),k=(f.updateWordCount,b.extend),m=(b.query,b.DOM),n=m.children,o=b.Event,p=o.delegate,q=o.addListener,r=o.removeListener,s="weibo-",t="emoticons",u=".",w=s+t+"-",x=w+"list",y=w+"emoticon",z=s+"arrow",A='<div class="',B='">',C="</div>",D=A+x+" weibo-clearfix"+B+"<ul></ul>"+C,E=A+z+B,F="emoticon",G=e.createWidget(e.Classes.Dialog,{CSS_PREFIX:s,initializer:function(a){var b={},c={};a&&(k(b,a.children),k(c,a.data)),b.title=b.title||"\u5e38\u7528\u8868\u60c5",this._emoticons=c,this._children=b},renderer:function(){var b=this,f=(b.constructor,b.wrapperBox,b.contentBox),g=b.elements,h=g.header,j=g.title,k=g.body,l=g.list,m=b._emoticons,o=(b._children,function(a){for(var d=a.target,e=!1;d&&d!==c;){if(d===f){e=!0;break}d=d.parentNode}return e||(b.hide(),r(c,"click",o)),!1});h.insertBefore(i(E),j),l||(l=i(D),k.appendChild(l),g.list=l),b.setEmoticons(m),p(l,"click",u+y+" a",function(){var c=this.title;return b.trigger(F,{emoticon:c}),b.hide(),!1}),b.addListener("hide",function(){r(c,"click",o)}),b.addListener("show",function(){q(c,"click",o)})},setEmoticons:function(a){var e,f,b=this,c=b.elements,d=c.list,g=[];if(e=n(d)[0],a){for(f in a)g.push('<li class="'+y+'"><a title="'),g.push(f),g.push('" href="javascript:void(0)"><img src="'),g.push(a[f]),g.push('" /></a></li>');e.innerHTML=g.join("")}},destructor:function(){}},{NAME:t,_queries:{list:u+x},_classNames:{},EVENTS:{EMOTICON:F}});e.Classes.Emoticons=G}(window,SINA),function(a,b){var c=a.document,e=(c.documentElement,a.Weibo),f=e.Utils,i=(f.Textarea,f.cloneNode,f.createFromString),j=e.apis,k=b.extend,m=(b.query,b.DOM),o=(m.children,b.Event),q=(o.delegate,o.addListener),r=o.removeListener,s=b.trim,t="weibo-",u="vdialog",v=".",x=t+u+"-",y=x+"tip",z=x+"form",A=x+"input",B=x+"submit",C=t+"arrow",D='<div class="',E='">',F="</div>",G=D+y+E+F,H=D+z+" weibo-clearfix"+E+'<input type="text" class="'+A+'" /><a class="'+B+'" href="javascript:void(0)"><em>\u786e\u5b9a</em></a>'+F,I=D+C+E,J='\u76ee\u524d\u5df2\u652f\u6301<a target="_blank" href="http://video.sina.com.cn">\u65b0\u6d6a\u64ad\u5ba2</a>\u3001<a target="_blank" href="http://www.youku.com">\u4f18\u9177\u7f51</a>\u3001<a target="_blank" href="http://www.tudou.com">\u571f\u8c46\u7f51</a>\u3001<a target="_blank" href="http://www.ku6.com/">\u91776\u7f51</a>\u3001<a target="_blank" href="http://www.56.com/">\u6211\u4e50\u7f51</a>\u3001<a target="_blank" href="http://www.qiyi.com/">\u5947\u827a\u7f51</a>\u3001<a target="_blank" href="http://www.ifeng.com/">\u51e4\u51f0\u7f51</a>\u7b49\u89c6\u9891\u7f51\u7ad9\u7684\u89c6\u9891\u64ad\u653e\u9875\u94fe\u63a5\u3002',K="click",L="video",M=e.createWidget(e.Classes.Dialog,{CSS_PREFIX:t,initializer:function(a){var b={};a&&k(b,a.children),b.title=b.title||"\u89c6\u9891",this._children=b},renderer:function(){var b=this,f=(b.constructor,b.wrapperBox,b.contentBox),g=b.elements,h=g.header,k=g.title,l=g.body,m=g.tip,n=g.form,o=g.input,p=g.submit,u=(b._children,function(a){for(var d=a.target,e=!1;d&&d!==c;){if(d===f){e=!0;break}d=d.parentNode}return e||(b.hide(),r(c,K,u)),!1});h.insertBefore(i(I),k),m&&n||(m=i(G),m.innerHTML=J,n=i(H),l.appendChild(m),l.appendChild(n),b.queryElements(),m=g.tip,n=g.form,o=g.input,p=g.submit),q(p,K,function(a){var c=s(o.value);c&&(j.shortenUrl({data:{url_long:c},onsuccess:function(a){var c=a[0]||{},d=c.url_short||"";b.trigger(L,{url:d})},onfailure:function(){}}),a.preventDefault())}),b.addListener("hide",function(){r(c,K,u)}),b.addListener("show",function(){q(c,K,u)})},show:function(){this.elements.input.value="",this.constructor.superclass.show.call(this)},setTip:function(a){a!==void 0&&(this.elements.tip=a)},destructor:function(){}},{NAME:u,_queries:{tip:v+y,form:v+z,input:v+A,submit:v+B},EVENTS:{VIDEO:L}});e.Classes.VideoDialog=M}(window,SINA),function(a,b){var c=a.document,e=(c.documentElement,a.Weibo),f=e.Utils,g=f.Textarea,i=(f.cloneNode,f.createFromString),j=f.updateWordCount,k=b.extend,m=(b.query,b.later),n=b.DOM,o=n.style,p=n.attr,q=n.next,r=b.Event,s=r.addListener,u=(r.removeListener,"weibo-"),v="retweet",w=".",x=" ",y=u+v+"-",z=y+"box",A=y+"quote",B=y+"form",C=y+"emoticons",D=y+"wordcount",E=y+"textarea",F=y+"options",G=y+"touser",H=y+"tooriginal",I=y+"user",J=y+"ouser",K=y+"actions",L=y+"submit",M=y+"cancel",N='<div class="',O='">',P="</div>",Q=N+z+O+N+A+O+P+N+B+O+'<a class="'+C+'" href="javascript:void(0)" title="\u8868\u60c5"></a>'+N+D+O+"\u8fd8\u53ef\u4ee5\u8f93\u5165<em>140</em>\u4e2a\u6c49\u5b57"+P+'<textarea class="'+E+'"></textarea>'+N+F+O+'<p class="'+G+'"><input type="checkbox"><label>\u540c\u65f6\u8bc4\u8bba\u7ed9 <span class="'+I+'"></span></label></p><p class="'+H+'"><input type="checkbox"><label>\u540c\u65f6\u8bc4\u8bba\u7ed9\u539f\u6587\u4f5c\u8005 '+'<span class="'+J+'"></span></label></p>'+P+P+N+K+O+'<a class="'+L+'" href="javascript:void(0);">\u8f6c\u53d1</a>'+'<a class="'+M+'" href="javascript:void(0);">\u53d6\u6d88</a>'+P+P,R="submit",S="show-emoticons",T=e.createWidget(e.Classes.Dialog,{CSS_PREFIX:u,initializer:function(a){var b={};a&&k(b,a.children),this._children=b,this._wordCountTimer=null,this._textRange=null},renderer:function(){var t,u,v,w,x,y,z,A,B,C,D,E,F,G,b=this,f=(b.constructor,b.wrapperBox,b.contentBox,b.elements),l=(f.header,f.title,f.body),n=f.quote,o=f.editor,r=f.submit,H=b._children;o&&n&&r||(C=i(T.RT_TEMPLATE),l.appendChild(C),b.queryElements(),n=f.quote,t=f.emoticons,u=f.tip,o=f.editor,v=f.toUser,w=f.toUserCheckbox,x=f.user,y=f.toOriginal,z=f.toOriginalCheckbox,A=f.original,r=f.submit,B=f.cancel,D=q(w),E=q(z),G=(new Date).getTime(),F="touser-"+G,w.id=F,p(D,"for",F),F="tooriginal-"+G,z.id=F,p(E,"for",F),H.quote&&(n.innerHTML=H.quote)),s(o,"keydown",function(a){j(this,u),a.stopPropagation()}),b._wordCountTimer||(b._lastText="",b._wordCountTimer=m(function(){o.value!==b._lastText&&(j(o,u),b._lastText=o.value)},100,!0)),s(t,"click",function(a){return a.preventDefault(),b._textRange=g.getPosition(o),b.trigger(S,{clickedElement:this}),!1}),s(r,"click",function(a){a.preventDefault();var c=o.value,d=w.checked,e=z.checked;b.trigger(R,{text:c,commentToUser:d,commentToOriginal:e})}),s(B,"click",function(a){b.hide(),a.preventDefault()})},show:function(){this.moveToPageCenter(),this.constructor.superclass.show.call(this)},insertText:function(a,b){if(this._rendered&&!this._destroyed){var d,c=this.elements.editor;"head"===b?(g.toHead(c),d=g.getPosition(c),this._textRange=d):"tail"!==b&&this._textRange?d=this._textRange:(g.toTail(c),d=g.getPosition(c),this._textRange=d),g.setText(c,d,a)}},removeText:function(a){if(this._rendered&&!this._destroyed){var b=this.elements.editor,c=b.value||"";this.elements.tip,b.value=a?c.replace(a,""):""}},setQuote:function(a){this._rendered&&!this._destroyed&&(this.elements.quote.innerHTML=a.replace(/</g,"&lt;"),"none"!==o(this.wrapperBox,"display")&&this._adjustSize())},setOptions:function(a,b){var c=this.elements,d=c.toUser,e=c.toUserCheckbox,f=c.user,g=c.toOriginal,h=c.toOriginalCheckbox,i=c.original;e.checked=!1,h.checked=!1,a?(d.style.display="block",f.innerHTML=a):d.style.display="none",b?(g.style.display="block",i.innerHTML=b):g.style.display="none"},focus:function(){this._rendered&&!this._destroyed&&g.toHead(this.elements.editor)},destructor:function(){}},{NAME:v,RT_TEMPLATE:Q,_queries:{quote:w+A,emoticons:w+C,tip:w+D,editor:"textarea"+w+E,toUser:w+G,toUserCheckbox:w+G+x+"input",user:w+I,toOriginal:w+H,toOriginalCheckbox:w+H+x+"input",original:w+J,submit:w+L,cancel:w+M},_classNames:{}});e.Classes.RetweetDialog=T}(window,SINA),function(a,b){var c=a.document,e=(c.documentElement,a.Weibo),f=e.Utils,h=(f.cloneNode,f.createFromString),i=f.updateWordCount,j=f.Textarea,k=b.extend,l=b.later,m=b.DOM,o=(m.cache,b.Event),p=o.addListener,r=(o.removeListener,"weibo-"),s="publisher",t=".",u=" ",v=r+s+"-",w=v+"tip",x=v+"editor",y=v+"actions",z=v+"action",A=v+"emoticons",B=v+"imgupload",C=v+"vidupload",D=v+"submit",E='<div class="',F='">',G="</div>",K='<a href="javascript:void(0)" class="',L='">',M="</a>",N=E+w+F+G,O=E+x+F+"<textarea></textarea>"+G,P=K+z+u+A+'" title="\u8868\u60c5'+L+"\u8868\u60c5"+M,Q=K+z+u+B+'" title="\u56fe\u7247'+L+"\u56fe\u7247"+M,R=K+z+u+C+'" title="\u89c6\u9891'+L+"\u89c6\u9891"+M,S='<a class="'+D+'" href="javascript:void(0);" title=""><em>\u53d1\u5e03</em></a>',T=E+y+" weibo-clearfix"+F+G;E_SUBMIT="submit",E_EMOTICONS="show-emoticons",E_IMGUPLOAD="show-imgupload",E_VIDUPLOAD="show-vidupload",Publisher=e.createWidget({CSS_PREFIX:r,initializer:function(a){var b={};a&&(k(b,a.children),this._display=a.display),this._children=b,this._wordCountTimer=null,this._textRange=null},destructor:function(){},renderer:function(){var b=(this.wrapperBox,this.contentBox),d=(this.constructor,this.elements),e=d.tip,f=d.editor,g=d.emoticons,k=d.imgupload,m=d.vidupload,n=d.submit,q=(this._children,this._display),r=this;e||f||n||(e=h(Publisher.TIP_TEMPLATE),f=h(Publisher.EDITOR_TEMPLATE),g=h(Publisher.EMOTICONS_TEMPLATE),k=h(Publisher.IMGUPLOAD_TEMPLATE),m=h(Publisher.VIDUPLOAD_TEMPLATE),n=h(Publisher.SUBMIT_TEMPLATE),actions=h(Publisher.ACTIONS_TEMPLATE),e.innerHTML="\u4f60\u8fd8\u53ef\u4ee5\u8f93\u5165<em>140</em>\u5b57",actions.appendChild(g),actions.appendChild(k),actions.appendChild(m),actions.appendChild(n),b.appendChild(e),b.appendChild(f),b.appendChild(actions),r.queryElements(),f=d.editor,g=d.emoticons,k=d.imgupload,m=d.vidupload),q&&r.displayActions(q),r._width&&(f.style.width=r._width-6+"px"),p(f,"keydown",function(a){i(this,e),a.stopPropagation()}),r._wordCountTimer||(r._lastText="",r._wordCountTimer=l(function(){f.value!==r._lastText&&(i(f,e),r._lastText=f.value)},100,!0)),p(g,"click",function(a){return a.preventDefault(),r._textRange=j.getPosition(f),r.trigger(E_EMOTICONS,{clickedElement:this}),!1}),p(k,"click",function(a){return a.preventDefault(),r._textRange=j.getPosition(f),r.trigger(E_IMGUPLOAD,{clickedElement:this}),!1}),p(m,"click",function(a){return a.preventDefault(),r._textRange=j.getPosition(f),r.trigger(E_VIDUPLOAD,{clickedElement:this}),!1}),p(n,"click",function(a){a.preventDefault();var b=f.value;r.trigger(E_SUBMIT,{text:b})})},display:function(a){this._rendered&&!this._destroyed&&this.displayActions(a)},displayActions:function(a){a=a||{};var b=this.elements,c=b.emoticons,d=b.imgupload;vidupload=b.vidupload,c.style.display=a.emoticons===!1?"none":"inline",d.style.display=a.imgupload===!1?"none":"inline",vidupload.style.display=a.vidupload===!1?"none":"inline"},insertText:function(a,b){if(this._rendered&&!this._destroyed){var d,c=this.elements.editor;"head"===b?(j.toHead(c),d=j.getPosition(c),this._textRange=d):"tail"!==b&&this._textRange?d=this._textRange:(j.toTail(c),d=j.getPosition(c),this._textRange=d),j.setText(c,d,a)}},removeText:function(a){if(this._rendered&&!this._destroyed){var b=this.elements.editor,c=b.value||"";this.elements.tip,b.value=a?c.replace(a,""):""}},buttonText:function(a){if(this._rendered&&!this._destroyed){var b=this.elements.submit;b.innerHTML="<em>"+a+"</em>"}},focus:function(){j.toTail(this.elements.editor)}},{NAME:s,TIP_TEMPLATE:N,EDITOR_TEMPLATE:O,EMOTICONS_TEMPLATE:P,IMGUPLOAD_TEMPLATE:Q,VIDUPLOAD_TEMPLATE:R,SUBMIT_TEMPLATE:S,ACTIONS_TEMPLATE:T,_queries:{tip:t+w,editor:t+x+" textarea",emoticons:t+A,imgupload:t+B,vidupload:t+C,submit:t+D},_classNames:{tip:w,editor:x,emoticons:A,imgupload:B,vidupload:C,submit:D},EVENTS:{SUBMIT:E_SUBMIT,EMOTICONS:E_EMOTICONS,IMGUPLOAD:E_IMGUPLOAD,VIDUPLOAD:E_VIDUPLOAD}}),e.Classes.Publisher=Publisher}(window,SINA),function(a,b){var d=(a.document,a.Weibo),e=d.Utils,f=d.Classes,g=f.Publisher,h=f.Dialog,i=e.createFromString,j=b.extend,k=b.Array.forEach,l=b.DOM,m=b.Event,o=(l.style,m.addListener),p="weibo-",q="publisherdialog",r=".",t=p+q+"-",u=t+"quote",v='<div class="',w='">',x="</div>",y=v+u+w+x,z=["insertText","removeText","buttonText","display","focus"],A=g.EVENTS,B=[A.SUBMIT,A.EMOTICONS,A.IMGUPLOAD,A.VIDUPLOAD],C=d.createWidget(h,{CSS_PREFIX:p,initializer:function(a){var b={};
a&&(j(b,a.children),this._display=a.display),this._children=b},destructor:function(){},renderer:function(){var q,d=(this.wrapperBox,this.contentBox,this.constructor,this.elements),f=(d.title,d.body),h=d.quote,n=(z.length,this),p=n._display;q=n._width?new g({width:n._width-28,display:p}):new g({display:p}),q.render(f),n._publisher=q,h||(h=i(C.QUOTE_TEMPLATE),f.insertBefore(h,f.firstChild),d.quote=h),k(z,function(a){n[a]=function(){q[a].apply(q,arguments)}}),k(B,function(a){o(q,a,function(b){n.trigger(a,b)})})},show:function(){this.moveToPageCenter(),this.constructor.superclass.show.call(this)},setQuote:function(a){this._rendered&&!this._destroyed&&(this.elements.quote.innerHTML=a,this._adjustSize())}},{NAME:q,QUOTE_TEMPLATE:y,_queries:{quote:r+u},_classNames:{quote:u},EVENTS:{SHOW:"show",HIDE:"hide",MOVE:"move",SUBMIT:"submit",EMOTICONS:"show-emoticons",IMGUPLOAD:"show-uploader"}});d.Classes.PublisherDialog=C}(window,SINA),function(a,b){var c=a.document,d=a.Weibo,e=d.Utils,f=d.apis,h=(e.Time,e.Image),k=(e.replaceStatusText,e.htmlEncode,e.createFromString),m=(e.cloneNode,e.customAttr),o=b.DOM,p=b.Event,q=p.delegate,r=o.next,s=o.previous,t=o.children,v=(o.style,o.addClass),w=o.removeClass,x=b.extend,y=b.query,z=c.querySelectorAll?function(a,b){return b?b.querySelectorAll(a):c.querySelectorAll(a)}:function(a,b){return y(a,b)},A="weibo-",B="list",C=".",E=A+"user",F=A+B+"-",G=F+"follow",H=F+"videolink",I=F+"preview",J=F+"thumb",L=F+"action-collapse",M=F+"action-turnleft",N=F+"action-turnright",O=F+"action-rt",P=F+"action-fav",Q=F+"action-cmt",R=F+"comments",S=F+"detailcontent",T=C+S+" img",U=C+S+" canvas",V="follow",Y="retweet",Z="comment",$="favorite",_="user-info",ab="click",cb=d.createWidget({CSS_PREFIX:A,CONTENT_TAG:"ol",initializer:function(a){var d,b={},c=10;a&&(c=a.capacity||c,x(b,a.children),d=a.narrow||!1),this._children=b,this._narrow=d},renderer:function(){function W(){var b=this.parentNode.parentNode,c=s(b);return c.style.display="block",b.style.display="none",b.innerHTML="",!1}var F,b=this,e=(b.constructor,b.wrapperBox,b.contentBox),u=(b._children,C+I),A=C+R,B=h.TURN_LEFT,D=h.TURN_RIGHT;F=b._narrow,F?v(e,"weibo-list-noimg"):(q(e,ab,C+H,function(){var c,d,e,b=this.parentNode.parentNode,g=m(this,"id");return e=z(u,b),c=e&&e.length&&e[0],d=r(c),c.style.display="none",d.style.display="block",d.innerHTML=cb.LOADING,f.getVideo({data:{url_short:g},onsuccess:function(a){var b=cb.buildVideoDetail(a);d.innerHTML=b},onfailure:function(){}}),!1}),q(e,ab,C+J,function(){var g,h,b=m(this,"id"),c=m(this,"type"),d=this.parentNode,e=r(d);return d.style.display="none",e.style.display="block",e.innerHTML=cb.LOADING,"image"===c?(g=t(this)[0],h=g&&g.src,e.innerHTML=cb.buildImageDetail(h)):"video"===c&&f.getVideo({data:{url_short:b},onsuccess:function(a){var b=cb.buildVideoDetail(a);e.innerHTML=b},onfailure:function(){}}),!1}),q(e,ab,C+L,W),q(e,ab,T,W),q(e,ab,U,W),q(e,ab,C+M,function(){var b=this.parentNode.parentNode,c=z(T,b),d=c&&c[0];return h.rotate90(d,B),!1}),q(e,ab,C+N,function(){var b=this.parentNode.parentNode,c=z(T,b),d=c&&c[0];return h.rotate90(d,D),!1}),w(e,"weibo-list-noimg")),q(e,ab,"a"+C+G,function(){var c=this,d=m(c,"uid")||0;return b.trigger(V,{followButton:c,uid:d}),!1}),q(e,ab,C+O,function(a){var f,g,h,i,c=m(this,"id")||0,d=this,e=this.parentNode.parentNode.parentNode;return c?(f=m(this,"text")||"",g=m(this,"quote")||"",h=m(this,"user")||"",i=m(this,"original")||"",b.trigger(Y,{rtId:c,rtText:f,rtQuote:g,rtUser:h,rtOriginal:i,actionNode:d,feedNode:e}),!1):(a.stopPropagation(),void 0)}),q(e,ab,C+Q,function(a){var e,f,g,h,i,j,k,c=m(this,"id")||0,d=this;return c?(e=m(this,"uid")||0,f=m(this,"mid")||0,g=m(this,"user")||"",h=m(this,"original")||"",i=this.parentNode.parentNode.parentNode,j=z(A,i),k=j&&j[0],b.trigger(Z,{cmtId:c,cmtUid:e,cmtMid:f,cmtUser:g,cmtOriginal:h,cmtNode:k,actionNode:d,feedNode:i}),!1):(a.stopPropagation(),void 0)}),q(e,ab,C+P,function(){var e,c=m(this,"id")||0,d=this;return c&&(e=this.parentNode.parentNode.parentNode,b.trigger($,{id:c,actionNode:d,feedNode:e})),!1}),q(e,"mouseenter",C+E,function(){var c=this.title||"",d=this;return c&&b.trigger(_,{username:c,userNode:d}),!1})},length:function(){return!this._rendered||this._destroyed?0:t(this.contentBox).length||0},insert:function(){!this._rendered||this._destroyed},append:function(a){var b=this.contentBox;b.appendChild(k(cb.buildList(a)))},prepend:function(a){var b=this.contentBox;b.insertBefore(k(cb.buildList(a)),b.firstChild)},remove:function(){this.contentBox.innerHTML=""},reset:function(a){this._tweets=a,this.contentBox.innerHTML="",a&&this.contentBox.appendChild(k(cb.buildList(a)))},destructor:function(){}},{NAME:B,LOADING:'<div class="weibo-list-loading"><img src="images/loading.gif" alt="Loading..." /></div>',buildList:function(a){return a.html},buildImageDetail:function(a){if(!a)return"";var b=a.replace("/thumbnail/","/bmiddle/"),c=a.replace("/thumbnail/","/large/"),d=['<p class="weibo-list-actions"><span class="','weibo-list-action weibo-list-action-collapse">','<a href="javascript:void(0)" title="\u6536\u8d77">\u6536\u8d77</a>','</span><span class="weibo-list-line">|</span>','<span class="weibo-list-action"><a href="',c,'"title="\u67e5\u770b\u5927\u56fe" target="_blank">\u67e5\u770b\u5927\u56fe</a></span>','<span class="weibo-list-line">|</span><span class="','weibo-list-action weibo-list-action-turnleft">','<a href="javascript:void(0)" title="\u5411\u5de6\u8f6c">\u5411\u5de6\u8f6c</a>','</span><span class="weibo-list-line">|</span>','<span class="weibo-list-action ','weibo-list-action-turnright">','<a href="javascript:void(0)" title="\u5411\u53f3\u8f6c">\u5411\u53f3\u8f6c</a>','</span></p><div class="weibo-list-detailcontent">','<img src="',b,'"></div>'];return d.join("")},buildVideoDetail:function(a){if(!a||!a[0])return"";var b=a[0],c=b.annotations||[],d=c[0]||{},e=['<p class="weibo-list-actions">','<span class="weibo-list-action ','weibo-list-action-collapse"><a href="javascript:void(0)"',' title="\u6536\u8d77">\u6536\u8d77</a></span>','<span class="weibo-list-line">|</span>','<span class="weibo-list-action"><a href="',b.url_long,'" title="',d.title,'" target="_blank">',d.title,"</a></span></p>",'<div class="weibo-list-detailcontent">','<embed width="440" height="356" ','allowscriptaccess="always" pluginspage="','http://get.adobe.com/cn/flashplayer/" flashvars="','playMovie=true&amp;auto=1&amp;adss=0&amp;isAutoPlay=true"','allowfullscreen="true" src="',d.url,'" type="application/x-shockwave-flash" ','wmode="transparent"></embed></div>'];return e.join("")}});d.Classes.List=cb}(window,SINA),function(a,b){var d=(a.document,a.Weibo),e=d.Utils,f=e.Time,k=(f.update,f.timestamp,f.displayString,e.cloneNode,e.createFromString),l=b.extend,o=(b.query,b.DOM,b.Event),p=o.addListener,r=(o.removeListener,"weibo-"),s="usercard",u=r+s+"-",v=u+"portrait",w=u+"info",x=u+"description",y=u+"footer",z=u+"name",A=u+"location",B=u+"counts",C=u+"follow",D=u+"followed",E=u+"line",F='<div class="',G='">',H="</div>",I='<p class="',J='"></p>',K="http://img.t.sinajs.cn/t4/style/images/common/transparent.gif",L=F+v+G+H,M=F+w+G+H,N=F+x+G+H,O=F+y+" weibo-clearfix"+G+H,P=I+z+J,Q=I+A+J,R=I+B+J,S='<a class="'+C+'" href="javascript:void(0)"><span><img '+'class="weibo-icon weibo-icon-add" src="'+K+'" title="\u52a0\u5173\u6ce8" />\u52a0\u5173\u6ce8</span></a>',T=F+C+" "+D+'"><img class="weibo-icon weibo-icon-added" src="'+K+'" title="\u5df2\u5173\u6ce8" />\u5df2\u5173\u6ce8'+H,U="follow",V="unfollow",W=d.createWidget({CSS_PREFIX:r,initializer:function(a){var b={},c=null,d="",e="",f={head:!0,followers:!0,info:!0,followButton:!0};a&&(c=a.data||null,d=a.channel||"",e=a.statKey||"",l(f,a.display,!0),l(b,a.children)),this._display=f,this._children=b,this._channel=d,this._statKey=e,this._userData=c},destructor:function(){},renderer:function(){var f,g,h,i,j,l,m,n,o,a=this,d=(a.constructor,a.wrapperBox,a.contentBox),e=a.elements,q=a._userData,r=a._channel,s=a._statKey;f=k(W.PORTRAIT_TEMPLATE),g=k(W.INFO_TEMPLATE),h=k(W.DESC_TEMPLATE),i=k(W.FOOTER_TEMPLATE),j=k(W.NAME_TEMPLATE),l=k(W.LOCATION_TEMPLATE),m=k(W.COUNT_TEMPLATE),n=k(W.FOLLOW_TEMPLATE),o=k(W.FOLLOWED_TEMPLATE),g.appendChild(j),g.appendChild(l),g.appendChild(m),i.appendChild(n),i.appendChild(o),d.appendChild(f),d.appendChild(g),d.appendChild(h),d.appendChild(i),e.portrait=f,e.info=g,e.desc=h,e.footer=i,e.name=j,e.location=l,e.count=m,e.followBtn=n,e.unfollowBtn=o,n.style.display="none",o.style.display="none",a.setUserData(q,r,s),p(n,"click",function(){var c=a._userData,d=c&&c.id||null,e=c&&c.screen_name||"",f=a._channel,g=a._statKey;return a.trigger(U,{uid:d,name:e,channel:f,statKey:g}),!1})},changeStatus:function(a){if(this._rendered&&!this._destroyed){var b=this.elements,c=b.followBtn,d=b.unfollowBtn;"followed"===a?(c.style.display="none",d.style.display=""):(c.style.display="",d.style.display="none")}},setUserData:function(a,b,c){if(a&&this._rendered&&!this._destroyed){this._userData=a,this._channel=b,this._statKey=c;var n,o,d=this.elements,e=d.portrait,g=(d.info,d.desc),i=(d.footer,d.name),j=d.location,k=d.count,l=d.followBtn,m=d.unfollowBtn,p=c?"?"+c+"=":"",q=c&&b?p+b:"",r=a.idstr,s=a.screen_name,t=a.profile_image_url,u=a.profile_url||a.domain||"u/"+r,v=a.verified,w=a.verified_type,x=a.location,y=a.gender,z="http://weibo.com/",A=z+u+q,B=z+r+"/fans"+q,C=z+r+"/follow"+q,D=z+r+"/profile"+q,F=a.following,G=a.followers_count,H=a.friends_count,I=a.statuses_count,J=a.verified_reason||a.description;e.innerHTML='<a href="'+A+'" target="_blank"><img src="'+t+'" alt="" /></a>',n='<a href="'+A+'" target="_blank">'+s,v&&(n+=3===w?'<img alt="" title="\u65b0\u6d6a\u673a\u6784\u8ba4\u8bc1" class="weibo-icon weibo-icon-v-g" src="'+K+'" />':'<img alt="" title="\u65b0\u6d6a\u4e2a\u4eba\u8ba4\u8bc1" class="weibo-icon weibo-icon-v-p" src="'+K+'" />'),n+="</a>",i.innerHTML=n,o="f"===y?'<img alt="" title="\u5973" src="'+K+'" class="weibo-icon weibo-icon-female" /> ':'<img alt="" title="\u7537" src="'+K+'" class="weibo-icon weibo-icon-male" /> ',o+=x,j.innerHTML=o,k.innerHTML=['<span><a href="',C,'" target="_blank">\u5173\u6ce8</a> ',H,'</span><span class="',E,'">|</span><span><a href="',B,'" target="_blank">\u7c89\u4e1d</a> ',G,'</span><span class="',E,'">|</span><span><a href="',D,'" target="_blank">\u5fae\u535a</a> ',I,"</span>"].join(""),F?(l.style.display="none",m.style.display=""):(l.style.display="",m.style.display="none"),g.innerHTML="\u7b80\u4ecb\uff1a"+J}}},{NAME:s,PORTRAIT_TEMPLATE:L,INFO_TEMPLATE:M,DESC_TEMPLATE:N,FOOTER_TEMPLATE:O,NAME_TEMPLATE:P,LOCATION_TEMPLATE:Q,COUNT_TEMPLATE:R,FOLLOW_TEMPLATE:S,FOLLOWED_TEMPLATE:T,_queries:{},_classNames:{},EVENTS:{FOLLOW:U,UNFOLLOW:V}});d.Classes.UserCard=W}(window,SINA),function(a,b){var d=(a.document,a.Weibo),e=d.Utils,f=d.Classes,g=f.UserCard,h=f.Dialog,i=e.createFromString,j=b.extend,k=b.later,l=b.Array.forEach,m=b.DOM,n=b.Event,p=(m.style,n.addListener),q="weibo-",r="usercardpopup",u=q+r+"-",v=u+"loading",w="images/loading.gif",x='<div class="',y='">',z="</div>",A=x+v+y+'<img src="'+w+'" />'+z,B=u+"arrow",C=x+B+y,D=["changeStatus"],E=g.EVENTS,F=[E.FOLLOW,E.UNFOLLOW],G=d.createWidget(h,{CSS_PREFIX:q,initializer:function(a){var b={},c=null,d=null;a&&(c=a.data||null,d=a.channel||null,j(b,a.children)),this._children=b,this._userCard=new g({data:c,channel:d})},destructor:function(){},renderer:function(){var n,o,a=this,b=a.wrapperBox,c=a.contentBox,e=(a.constructor,a.elements),g=(e.title,e.header),h=e.body,q=(D.length,a._userCard);n=i(G.LOADING_TEMPLATE),h.appendChild(n),e.loading=n,q.render(h),a._userCard=q,g.style.display="none",o=i(C),c.appendChild(o),e.arrow=o,l(D,function(b){a[b]=function(){q[b].apply(q,arguments)}}),l(F,function(b){p(q,b,function(c){a.trigger(b,c)})}),p(b,"mouseenter",function(){return a.show(),!1}),p(b,"mouseleave",function(){return a.hide(),!1})},show:function(){var a=this;a._showTimer&&(a._showTimer.cancel(),a._showTimer=null),a.constructor.superclass.show.call(a)},hide:function(){var a=this,b=a.constructor.superclass.hide;a._showTimer&&(a._showTimer.cancel(),a._showTimer=null),a._showTimer=k(function(){b.call(a),a._showTimer=null},200)},setLoading:function(a){if(this._rendered&&!this._destroyed){var b=this.elements.loading,c=this._userCard.wrapperBox;a?(c.style.display="none",b.style.display="block"):(c.style.display="block",b.style.display="none"),this._adjustSize()}},setUserData:function(a,b,c){this._userCard.setUserData(a,b,c),this._adjustSize()}},{NAME:r,LOADING_TEMPLATE:A,_queries:{},_classNames:{},EVENTS:{SHOW:"show",HIDE:"hide",MOVE:"move",FOLLOW:"follow",UNFOLLOW:"unfollow"}});d.Classes.UserCardDialog=G}(window,SINA),function(a,b){var j,k,c=a.document,d=a.Weibo,f=(d.Utils,d.Classes.Emoticons),h=(d.apis,b.Event),l=(h.addListener,"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/"),m="emoticon",n="hide";j=d.Widgets,j||(d.Widgets=j={}),j.getEmoticonDlg=function(a){return j.emoticonDialog||(a=a||d.emoticons,k=new f({width:310,borderWidth:3,data:a}),k.addListener(m,function(a){var b="["+a.emoticon+"] ";j.handleEmoticon&&j.handleEmoticon(b)}),k.addListener(n,function(){j.handleEmoticon=null}),k.render(c.body),j.emoticonDialog=k),j.emoticonDialog},j.setEmoticons=function(a){this.emoticonDialog&&this.emoticonDialog._rendered&&this.emoticonDialog.setEmoticons(a)},d.emoticons={"\u54c8\u54c8":l+"6a/laugh.gif","\u6cea":l+"d8/sad.gif","\u5077\u7b11":l+"7e/hei_org.gif","\u563b\u563b":l+"c2/tooth.gif","\u7231\u4f60":l+"7e/love.gif","\u5fc3":l+"6d/heart.gif","\u82b1\u5fc3":l+"64/hs_org.gif","\u6316\u9f3b\u5c4e":l+"b6/kbs_org.gif","\u9f13\u638c":l+"1b/gz_org.gif","\u5bb3\u7f9e":l+"05/shame_org.gif","\u6293\u72c2":l+"4d/crazy.gif","\u6c57":l+"13/sweat.gif","\u5965\u7279\u66fc":l+"bc/otm_org.gif","\u732a\u5934":l+"58/pig.gif","\u56f4\u89c2":l+"f2/wg_org.gif","\u6765":l+"40/come_org.gif","\u86cb\u7cd5":l+"6a/cake.gif","\u949f":l+"d3/clock_org.gif","\u6708\u4eae":l+"b9/moon.gif","\u718a\u732b":l+"e0/xiongmao_org.gif","\u793c\u7269":l+"c4/liwu_org.gif","\u5a01\u6b66":l+"70/vw_org.gif","\u5154\u5b50":l+"81/rabbit_org.gif","\u8bdd\u7b52":l+"1b/m_org.gif","\u9e2d\u68a8":l+"bb/pear_org.gif","\u5927\u5df4":l+"9c/dynamicbus_org.gif","\u624b\u5957":l+"72/shoutao_org.gif","\u56e7":l+"15/j_org.gif","\u4f24\u5fc3":l+"ea/unheart.gif","\u592a\u9633":l+"e5/sun.gif","\u8721\u70db":l+"91/lazu_org.gif","\u4e92\u7c89":l+"89/hufen_org.gif","\u6655":l+"a4/dizzy.gif","\u998b\u5634":l+"b8/cz_org.gif","\u54fc":l+"19/hate.gif","\u62b1\u62b1":l+"7c/bb_org.gif","\u53ef\u7231":l+"9c/tz_org.gif","\u6012":l+"57/angry.gif","\u5475\u5475":l+"eb/smile.gif","\u56f0":l+"8b/sleepy.gif","\u7761\u89c9":l+"7d/sleep_org.gif","\u94b1":l+"90/money_org.gif","\u9177":l+"40/cool_org.gif","\u8870":l+"af/cry.gif","\u5403\u60ca":l+"f4/cj_org.gif","\u95ed\u5634":l+"29/bz_org.gif","\u9119\u89c6":l+"71/bs2_org.gif","\u5931\u671b":l+"0c/sw_org.gif","\u601d\u8003":l+"e9/sk_org.gif","\u751f\u75c5":l+"b6/sb_org.gif","\u4eb2\u4eb2":l+"8f/qq_org.gif","\u6012\u9a82":l+"89/nm_org.gif","\u592a\u5f00\u5fc3":l+"58/mb_org.gif","\u61d2\u5f97\u7406\u4f60":l+"17/ldln_org.gif","\u53f3\u54fc\u54fc":l+"98/yhh_org.gif","\u5de6\u54fc\u54fc":l+"6d/zhh_org.gif","\u5618":l+"a6/x_org.gif","\u59d4\u5c48":l+"73/wq_org.gif","\u5410":l+"9e/t_org.gif","\u53ef\u601c":l+"af/kl_org.gif","\u6253\u54c8\u6c14":l+"f3/k_org.gif","\u9876":l+"91/d_org.gif","\u7591\u95ee":l+"5c/yw_org.gif","\u63e1\u624b":l+"0c/ws_org.gif","\u8036":l+"d9/ye_org.gif",good:l+"d8/good_org.gif","\u5f31":l+"d8/sad_org.gif","\u4e0d\u8981":l+"c7/no_org.gif",ok:l+"d6/ok_org.gif","\u8d5e":l+"d0/z2_org.gif"}}(window,SINA),function(a,b){var l,m,n,c=a.document,d=a.Weibo,f=(d.Utils,d.Classes.MessageDialog),g=d.Widgets,i=(d.apis,b.Event),k=(i.addListener,b.later),p="hide",q="yes",r="no";g.Messages={alert:function(a,b){var c=g.getMsgDlg();l&&(l.cancel(),l=null),"question"===b&&(b="info"),c.show(a,b),l=k(function(){l=null,c.hide()},3e3)},confirm:function(a,b){var c=g.getMsgDlg(),d=b[q]||null,e=b[r]||null;l&&(l.cancel(),l=null),m=d,n=e,c.show(a,"question")}},g.getMsgDlg=function(){if(!g.messageDialog){var a=new f({width:200,borderWidth:4,overlay:!0});a.addListener(p,function(){l&&(l.cancel(),l=null)}),a.addListener(q,function(a){m&&m(a),m=null,this.hide()}),a.addListener(r,function(a){n&&n(a),n=null,this.hide()}),a.render(c.body),g.messageDialog=a}return g.messageDialog}}(window,SINA),function(a,b){var c=a.document,d=a.Weibo,e=d.Utils,f=d.Login,g=d.Classes.LoginDialog,h=d.Widgets,m=(h.Messages.alert,d.apis,e.pageX,e.pageY,b.DOM),n=b.Event,o=b.extend,p=b.makeTarget,t=(n.addListener,m.style,{width:350,borderWidth:5,overlay:!0}),u="login",w=function(a){a=a||{},o(a,t);var b=this,d=new g(a);f.addLoginCallback(function(a){var c=a.status||{};c.result?(b.loginCallbackOnce&&b.loginCallbackOnce(c),b.hide()):b.setTip('<span style="color:red">'+(c.reason||"\u767b\u5f55\u5931\u8d25")+"</span>")}),d.addListener(u,function(a){var b=a.account,c=a.password,e=a.remember;return b?c?(f.login(b,c,e),void 0):(d.setTip('<span style="color:red">\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a</span>'),void 0):(d.setTip('<span style="color:red">\u7528\u6237\u540d\u4e0d\u80fd\u4e3a\u7a7a</span>'),void 0)}),d.render(c.body),b._instance=d};p(w),o(w.prototype,{show:function(){var a=this._instance;a.reset(),a.show(),a.focus()},setTip:function(a){this._instance.setTip(a)},hide:function(){this.loginCallbackOnce=null,this._instance.hide()},loginCallbackOnce:null,logoutCallbackOnce:null}),h.LoginDialog=w,d.useLoginDialog=!0,h.getLoginDialog=function(){return h.loginDialog||(h.loginDialog=new w),h.loginDialog}}(window,SINA),function(a,b){var c=a.document,d=a.Weibo,e=d.Utils,f=d.Login,g=d.Classes.RetweetDialog,h=d.Widgets,i=h.Messages.alert,j=d.apis,k=e.pageX,l=e.pageY,m=b.DOM,n=b.Event,o=b.extend,p=b.makeTarget,r=(n.addListener,m.style),t={children:{title:"\u8f6c\u53d1\u5230\u6211\u7684\u5fae\u535a"},width:500,borderWidth:3,overlay:!0},u="show-emoticons",v="submit",w="not-logged",y="retweet-success",z="retweet-failure",A=function(a,b){var c=b.clickedElement,d=k(c)-16,e=l(c)+(parseInt(r(c,"height"))||0)+8;a.move(d,e),a.show()},B=function(a){a=a||{},o(a,t);var e,m,b=this,j=a.title||"\u8f6c\u53d1\u5230\u6211\u7684\u5fae\u535a",k=h.getEmoticonDlg(),l=a.fixed||!1,n=a.handlers||{},p=n[y]||function(){b.changeOpenTrigger(1),i("\u8f6c\u53d1\u6210\u529f\uff01","right"),b.hide()},q=n[z]||function(a){var b=d.MSG.get("SER",a.status.code,"\u8f6c\u53d1\u5931\u8d25");i(b,"wrong")};if(b.setOpenTirgger(a.openTrigger||null),a.children.title=j,e=new g(a),e.addListener(u,function(a){m.appendChild(k.wrapperBox),A(k,a),h.handleEmoticon=function(a){e.insertText(a),h.handleEmoticon=null}}),e.addListener(v,function(a){var g,c=0,e=b.weiboId||0;if(e){if(a.commentToUser&&(c+=1),a.commentToOriginal&&(c+=2),g={id:e,status:a.text,is_comment:c},!f.check())return b.trigger(w,{context:b,method:b.submit,args:[g]}),void 0;d.annotations&&(g.annotations=d.annotations),b.submit(g)}}),b.addListener(y,p),b.addListener(z,q),e.render(c.body),m=l?e.wrapperBox:c.body,b._instance=e,d.useLoginDialog){var r=h.getLoginDialog();b.addListener(w,function(a){r.loginCallbackOnce=function(){a.method.apply(a.context,a.args)},r.show()})}};p(B),o(B.prototype,{setOpenTirgger:function(a){this._openTrigger=a},getOpenTirgger:function(){return this._openTrigger},changeOpenTrigger:function(a){var b=this._openTrigger;if(b){var c=b.innerHTML,d=parseInt(c.replace(/[^\d]/g,""),10),e=d+a;return b.innerHTML=c.replace(d,e),this}},show:function(a){var c,d,e,g,h,b=this;return f.check()?(a=a||{},c=b._instance,d=unescape(a.quote),e=unescape(a.text),g=a.user,h=a.original,b.weiboId=a.id,c.setQuote(d),c.setOptions(g,h),c.show(),c.removeText(),c.insertText(e),c.focus(),void 0):(b.trigger(w,{context:b,method:b.show,args:[a]}),void 0)},hide:function(){var a=this._instance;a.hide()},submit:function(a){var b=this;j.repost({data:a,onsuccess:function(a){b.trigger(y,{data:a})},onfailure:function(a){b.trigger(z,{status:a})}})}}),h.Retweet=B}(window,SINA),function(a,b){var c=a.document,d=a.Weibo,e=d.Utils,f=d.Login,g=d.Classes.CommentBox,h=d.Widgets,i=h.Messages.alert,j=d.apis,k=e.pageX,l=e.pageY,m=b.DOM,n=b.Event,o=b.extend,p=b.makeTarget,r=(n.addListener,m.style),t={capacity:10},u="show-emoticons",v="submit",w="not-logged",y="comment-success",z="comment-failure",A=function(a,b){var c=b.clickedElement,d=k(c)-16,e=l(c)+(parseInt(r(c,"height"))||0)+8;a.move(d,e),a.show()},B=function(a){a=a||{},o(a,t);var m,b=this,e=new g(a),j=h.getEmoticonDlg(),k=a.container,l=a.fixed||!1,n=a.handlers||{},p=n[y]||function(a){this.changeOpenTrigger(1),this.insert(a.data,0),this.clear()},q=n[z]||function(a){var b=d.MSG.get("SER",a.status.code,"\u8bc4\u8bba\u5931\u8d25");i(b,"wrong")};if(b.setOpenTirgger(a.openTrigger||null),e.addListener(u,function(a){m.appendChild(j.wrapperBox),A(j,a),h.handleEmoticon=function(a){e.insertText(a),h.handleEmoticon=null}}),e.addListener(v,function(a){var d,c=b.weiboId||0;if(c)return d={id:c,cid:a.cid,text:a.text,retweet:a.retweet,commentUserText:a.commentUserText,commentToOriginal:a.commentToOriginal},f.check()?(b.submit(d),void 0):(b.trigger(w,{context:b,method:b.submit,args:[d]}),void 0)}),b.addListener(y,p),b.addListener(z,q),k&&e.render(k),m=l?e.wrapperBox:c.body,b._instance=e,b._container=k,b.setData(a),d.useLoginDialog){var r=h.getLoginDialog();b.addListener(w,function(a){r.loginCallbackOnce=function(){a.method.apply(a.context,a.args)},r.show()})}};p(B),o(B.prototype,{setOpenTirgger:function(a){this._openTrigger=a},getOpenTirgger:function(){return this._openTrigger},changeOpenTrigger:function(a){var b=this._openTrigger;if(b){var c=b.innerHTML,d=parseInt(c.replace(/[^\d]/g,""),10),e=d+a;return b.innerHTML=c.replace(d,e),this}},setData:function(a){var e,f,g,b=this._instance,c=this.weiboId,d=this.listLength;a&&(c=a.id||0,e=a.uid||0,f=a.mid||0,d=a.listLength||10,g=a.original||"",this.weiboId=c,this.listLength=d,b.reset("http://weibo.com/"+e+"/"+f,g))},reset:function(){var a=this._instance,b=this.weiboId,c=this.listLength;a.removeText(),a.focus(),j.getComments({data:{id:b,count:c},onsuccess:function(b){a.setListData(b.comments),a.toggleLoading(!1)},onfailure:function(){a.setListData([]),a.toggleLoading(!1)}})},insert:function(a,b){this._instance.insertList(a,b)},clear:function(){this._instance.removeText()},submit:function(a){var c,d,e,b=1,f=this;a.retweet?(a.commentToOriginal&&(b+=2),j.repost({data:{id:f.weiboId,status:a.text,is_comment:b},onsuccess:function(a){f.trigger(y,{data:a})},onfailure:function(a){f.trigger(z,{status:a})}})):(d=a.cid,e=a.text,d&&-1!==e.indexOf(a.commentUserText)?(c={id:f.weiboId,cid:d,comment:e,comment_ori:a.commentToOriginal},j.replyComment({data:c,onsuccess:function(a){f.trigger(y,{data:a})},onfailure:function(a){f.trigger(z,{status:a})}})):(c={id:f.weiboId,comment:e,comment_ori:a.commentToOriginal},j.comment({data:c,onsuccess:function(a){f.trigger(y,{data:a})},onfailure:function(a){f.trigger(z,{status:a})}})))}}),h.Comment=B}(window,SINA),function(a,b){var c=a.document,d=a.Weibo,e=d.Utils,f=d.Login,g=d.Classes.CommentDialog,h=d.Widgets,i=h.Messages.alert,j=d.apis,k=e.pageX,l=e.pageY,m=b.DOM,n=b.Event,o=b.extend,p=b.makeTarget,r=(n.addListener,m.style),t={width:500,borderWidth:5,overlay:!0},u="show-emoticons",v="submit",w="not-logged",y="comment-success",z="comment-failure",A=function(a,b){var c=b.clickedElement,d=k(c)-16,e=l(c)+(parseInt(r(c,"height"))||0)+8;a.move(d,e),a.show()},B=function(a){a=a||{},o(a,t);var l,b=this,e=new g(a),j=h.getEmoticonDlg(),k=a.fixed||!1,m=a.handlers||{},n=m[y]||function(){i("\u8bc4\u8bba\u6210\u529f\uff01","right"),b.hide()},p=m[z]||function(){i("\u8bc4\u8bba\u5931\u8d25","wrong")};if(e.addListener(u,function(a){l.appendChild(j.wrapperBox),A(j,a),h.handleEmoticon=function(a){e.insertText(a),h.handleEmoticon=null}}),e.addListener(v,function(a){var d,c=b.weiboId||0;if(c)return d={id:c,cid:a.cid,text:a.text,retweet:a.retweet,commentUserText:a.commentUserText,commentToOriginal:a.commentToOriginal},f.check()?(b.submit(d),void 0):(b.trigger(w,{context:b,method:b.submit,args:[d]}),void 0)}),b.addListener(y,n),b.addListener(z,p),e.render(c.body),l=k?e.wrapperBox:c.body,b._instance=e,d.useLoginDialog){var q=h.getLoginDialog();b.addListener(w,function(a){q.loginCallbackOnce=function(){a.method.apply(a.context,a.args)},q.show()})}};p(B),o(B.prototype,{show:function(a){var c,d,e,g,h,i,b=this;return f.check()?(a=a||{},c=b._instance,d=a.id||0,e=a.uid||0,g=a.mid||0,h=a.listLength||3,i=a.original||"",b.weiboId=d,c.reset("http://weibo.com/"+e+"/"+g,i),c.removeText(),c.show(),c.focus(),j.getComments({data:{id:d,count:h},onsuccess:function(a){c.setListData(a.comments),c.moveToPageCenter()},onfailure:function(){c.setListData([]),c.moveToPageCenter()}}),void 0):(b.trigger(w,{context:b,method:b.show,args:[a]}),void 0)},hide:function(){var a=this._instance;a.hide()},submit:function(a){var c,d,e,b=1,f=this;a.retweet?(a.commentToOriginal&&(b+=2),j.repost({data:{id:f.weiboId,status:a.text,is_comment:b},onsuccess:function(a){f.trigger(y,{data:a})},onfailure:function(a){f.trigger(z,{status:a})}})):(d=a.cid,e=a.text,d&&-1!==e.indexOf(a.commentUserText)?(c={id:f.weiboId,cid:d,comment:e,comment_ori:a.commentToOriginal},j.replyComment({data:c,onsuccess:function(a){f.trigger(y,{data:a})},onfailure:function(a){f.trigger(z,{status:a})}})):(c={id:f.weiboId,comment:e,comment_ori:a.commentToOriginal},j.comment({data:c,onsuccess:function(a){f.trigger(y,{data:a})},onfailure:function(a){f.trigger(z,{status:a})}})))}}),h.CommentDialog=B}(window,SINA),function(a,b){var c=a.document,d=a.Weibo,e=d.Utils,f=d.Login,g=d.Classes.Publisher,h=d.Classes.VideoDialog,i=d.Widgets,j=i.Messages.alert,k=d.apis,l=e.pageX,m=e.pageY,n=b.DOM,o=b.Event,p=b.extend,q=b.makeTarget,s=(o.addListener,n.style),t=b.trim,u=function(a){var b=a.replace(/[^x00-xff]/g,"aa");return Math.round(b.length/2)},w={display:{emoticons:!0,vidupload:!0,imgupload:!1}},x="show-emoticons",z="show-vidupload",A="submit",B="video",C="not-logged",D="publish-success",E="publish-failure",F=function(a,b,c,d){var f,g,h,i,e=b.clickedElement;c?(h=l(d),i=m(d),f=l(e)-h-12,g=m(e)+(parseInt(s(e,"height"))||0)-i+15):(f=l(e)-17,g=m(e)+(parseInt(s(e,"height"))||0)+12),a.move(f,g),a.show()},G=function(a){a=a||{},p(a,w);var n,b=this,e=new g(a),h=i.getEmoticonDlg(),k=i.getVideoDlg(),l=a.container,m=a.fixed||!1,o=a.handlers||{},q=o[D]||function(){j("\u53d1\u5e03\u6210\u529f","right"),b.clear()},r=o[E]||function(){j("\u53d1\u5e03\u5931\u8d25","wrong")};if(e.addListener(x,function(a){k.hide(),n.appendChild(h.wrapperBox),F(h,a,m,e.wrapperBox),i.handleEmoticon=function(a){b.insert(a),i.handleEmoticon=null}}),e.addListener(z,function(a){h.hide(),n.appendChild(k.wrapperBox),F(k,a,m,e.wrapperBox),i.handleVideoUpload=function(a){b.insert(a),i.handleVideoUpload=null}}),e.addListener(A,function(a){var e,c=t(a.text);return c?u(c)>140?(alert("\u5185\u5bb9\u4e0d\u80fd\u8d85\u8fc7 140 \u5b57"),void 0):(e={status:c},d.annotations&&(e.annotations=d.annotations),f.check()?(b.submit(e),void 0):(b.trigger(C,{context:b,method:b.submit,args:[e]}),void 0)):(alert("\u5185\u5bb9\u4e0d\u80fd\u4e3a\u7a7a"),void 0)}),b.addListener(D,q),b.addListener(E,r),l?e.render(l):e.render(),n=m?e.wrapperBox:c.body,b._instance=e,b._container=l,d.useLoginDialog){var s=i.getLoginDialog();b.addListener(C,function(a){s.loginCallbackOnce=function(){a.method.apply(a.context,a.args)},s.show()})}};q(G),p(G.prototype,{insert:function(a,b){this._instance.insertText(a,b)},resetText:function(a){this._instance.elements.editor.value=a},clear:function(){this._instance.removeText()},submit:function(a){var b=this;k.update({data:a,onsuccess:function(a){b.trigger(D,{data:a})},onfailure:function(a){b.trigger(E,{status:a})}})}}),i.Publisher=G,i.getVideoDlg=function(){if(!i.videoDialog){var a=new h({width:310,borderWidth:3});a.addListener(B,function(b){var c=b.url;a.hide(),i.handleVideoUpload&&i.handleVideoUpload(c)}),a.addListener("hide",function(){i.handleEmoticon=null}),a.render(c.body),i.videoDialog=a}return i.videoDialog}}(window,SINA),function(a,b){var c=a.document,d=a.Weibo,e=d.Utils,f=d.Login,g=d.Classes.PublisherDialog,h=d.Widgets,i=h.Messages.alert,j=d.apis,k=e.pageX,l=e.pageY,m=b.DOM,n=b.Event,o=b.extend,p=b.makeTarget,r=(n.addListener,m.style),s=b.trim,t=function(a){var b=a.replace(/[^x00-xff]/g,"aa");return Math.round(b.length/2)},v={width:500,overlay:!0,borderWidth:3,children:{title:"\u53d1\u5e03\u5fae\u535a"},display:{emoticons:!0,vidupload:!0,imgupload:!1}},w="show-emoticons",y="show-vidupload",z="submit",B="not-logged",C="publish-success",D="publish-failure",E=function(a,b){var c=b.clickedElement,d=k(c)-17,e=l(c)+(parseInt(r(c,"height"))||0)+12;a.move(d,e),a.show()},F=function(a){a=a||{},o(a,v);var j,n,b=this,e=a.title||"\u53d1\u5e03\u5fae\u535a",k=h.getEmoticonDlg(),l=h.getVideoDlg(),m=a.fixed||!1,p=a.handlers||{},q=p[C]||function(){i("\u53d1\u5e03\u6210\u529f","right"),b.hide()},r=p[D]||function(){i("\u53d1\u5e03\u5931\u8d25","wrong")};if(a.children.title=e,j=new g(a),j.addListener(w,function(a){l.hide(),n.appendChild(k.wrapperBox),E(k,a),h.handleEmoticon=function(a){b.insert(a),h.handleEmoticon=null}}),j.addListener(y,function(a){k.hide(),n.appendChild(l.wrapperBox),E(l,a),h.handleVideoUpload=function(a){b.insert(a),h.handleVideoUpload=null}}),j.addListener(z,function(a){var e,c=s(a.text);return c?t(c)>140?(alert("\u5185\u5bb9\u4e0d\u80fd\u8d85\u8fc7 140 \u5b57"),void 0):(e={status:c},d.annotations&&(e.annotations=d.annotations),f.check()?(b.submit(e),void 0):(b.trigger(B,{context:b,method:b.submit,args:[e]}),void 0)):(alert("\u5185\u5bb9\u4e0d\u80fd\u4e3a\u7a7a"),void 0)}),b.addListener(C,q),b.addListener(D,r),j.render(c.body),n=m?j.wrapperBox:c.body,b._instance=j,d.useLoginDialog){var u=h.getLoginDialog();b.addListener(B,function(a){u.loginCallbackOnce=function(){a.method.apply(a.context,a.args)},u.show()})}};p(F),o(F.prototype,{show:function(a){var c,d,b=this;a=a||{},d=a.text||"",c=b._instance,c.show(),c.removeText(),c.insertText(d)},hide:function(){var a=this._instance;a.hide()},insert:function(a,b){this._instance.insertText(a,b)},clear:function(){this._instance.removeText()},submit:function(a){var b=this;j.update({data:a,onsuccess:function(a){b.trigger(C,{data:a})},onfailure:function(a){b.trigger(D,{status:a})}})}}),h.PublisherDialog=F}(window,SINA),function(a,b){var d=(a.document,a.Weibo),e=d.Utils,f=d.Login,g=d.Classes.UserCard,h=d.Widgets,i=h.Messages.alert,j=d.apis,m=(e.pageX,e.pageY,b.DOM),n=b.Event,o=b.extend,p=b.makeTarget,t=(n.addListener,m.style,{}),u="follow",v="not-logged",w=function(a){a=a||{},o(a,t);var b=this,c=new g(a),e=a.data,k=a.container;if(c.addListener(u,function(a){var e,d=a.uid;if(d)return e={data:{uid:d},onsuccess:function(){c.changeStatus("followed")},onfailure:function(a){a&&20506==a.code?c.changeStatus("followed"):i("\u5173\u6ce8\u5931\u8d25","wrong")}},f.check()?(j.follow(e),void 0):(b.trigger(v,{context:j,method:j.follow,args:[e]}),void 0)}),k&&c.render(k),b._container=k,b._instance=c,e&&b.setData(e),d.useLoginDialog){var l=h.getLoginDialog();b.addListener(v,function(a){l.loginCallbackOnce=function(){a.method.apply(a.context,a.args)},l.show()})}};p(w),o(w.prototype,{setData:function(a){var b=this._instance;b.setUserData(a)}}),h.UserCard=w}(window,SINA),function(a,b){var c=a.document,d=a.Weibo,e=d.Utils,f=d.Login,g=d.Classes.UserCardDialog,h=d.Widgets,i=h.Messages.alert,j=d.apis,m=(e.pageX,e.pageY,b.DOM),n=b.Event,o=b.extend,p=b.makeTarget,r=(n.addListener,m.style),s=m.addClass,t=m.removeClass,w={width:360,borderWidth:3},x="follow",y="not-logged",z=function(a){a=a||{},o(a,w);var b=this,e=a.data,k=new g(a);if(b.cache={},k.addListener(x,function(a){var e,c=a.uid,d=a.name;if(c)return e={data:{uid:c},onsuccess:function(){b.changeCacheFollowing(d,!0),k.changeStatus("followed")},onfailure:function(a){a&&20506==a.code?(b.changeCacheFollowing(d,!0),k.changeStatus("followed")):i("\u5173\u6ce8\u5931\u8d25","wrong")}},f.check()?(j.follow(e),void 0):(b.trigger(y,{context:j,method:j.follow,args:[e]}),void 0)
}),k.render(c.body),b._instance=k,e&&b.setData(e),d.useLoginDialog){var l=h.getLoginDialog();b.addListener(y,function(a){l.loginCallbackOnce=function(){a.method.apply(a.context,a.args)},l.show()})}};p(z),o(z.prototype,{setCache:function(a,b){a&&b&&(this.cache[a]=b)},getCache:function(a){var b=this.cache[a]||"";return b},changeCacheFollowing:function(a,b){this.cache[a].following=b},setData:function(a){var b=this._instance;b.setUserData(a)},show:function(a){var b=this,c=b._instance;"loading"===a?c.setLoading(!0):c.setLoading(!1),c.show()},move:function(a,b){var c=this,d=c._instance,e=d.elements.arrow,f=e.parentNode;f.removeChild(e),f.appendChild(e),d.move(a,b)},hide:function(){this._instance.hide()},changeArrowDir:function(a){var b=this,c=b._instance,d=c.elements.arrow;switch(a){case"top":s(d,"weibo-arrow-top"),t(d,"weibo-arrow-bottom");break;case"bottom":s(d,"weibo-arrow-bottom"),t(d,"weibo-arrow-top");break;default:}},getHeight:function(){var a=this._instance,b=a.wrapperBox;return parseInt(r(b,"height"))||0}}),h.UserCardDialog=z}(window,SINA),function(a,b){var A,C,c=a.document,d=a.Weibo,e=d.Utils,f=d.Login,g=d.Classes.List,h=d.Widgets,i=h.Retweet,j=h.Comment,k=h.UserCardDialog,l=h.Messages.alert,m=d.apis,n=e.createFromString,o=e.pageX,p=e.pageY,q=b.DOM,r=b.Event,s=b.extend,t=b.makeTarget,u=r.addListener,v=q.style,x=(q.addClass,180),y=function(b,d){var g,e=0,f=0,h="bottom",i=0,j=c.documentElement,k=c.body,l=a.pageYOffset||j&&j.scrollTop||k.scrollTop;return b&&d&&(i=d.getHeight(),g=parseInt(v(b,"height"))||0,e=o(b),f=p(b),e-=8,l>f-x?(f=f+g+8,h="top"):(f=f-i-8,h="bottom"),0>e&&(e=0),0>f&&(f=0)),{x:e,y:f,direction:h}},B=function(){return A||(A=new i({width:450})),A},D=function(){return C||(C=new k),C},E={commentLength:5,showUserCard:!0},F="not-logged",G="follow",H="retweet",I="comment",J="favorite",K="user-info",L=function(a){a=a||{},s(a,E);var c=this,e=new g(a),i=a.container,j=a.retweetDialog,k=a.commentDialog,o=a.commentLength||5,p=a.showUserCard,q=a.userCard,r=a.stat_click;if(j||(j=B()),e.addListener(H,function(a){var b=a.rtId,c=a.rtText,d=a.rtQuote,e=a.rtUser,f=a.rtOriginal;a.feedNode,d?(c="//@"+e+": "+c,d="@"+f+": "+d):(d="@"+e+": "+c,c=""),j.show({id:b,quote:d,text:c,user:e,original:f})}),k?e.addListener(I,function(a){a.cmtId&&k.show({id:a.cmtId,uid:a.cmtUid,mid:a.cmtMid,original:a.cmtOriginal,listLength:o})}):e.addListener(I,function(a){a.listLength=o;var d,b=a.cmtNode;b&&a.cmtId&&(d=c._getCommentList(a),"block"!==b.style.display?(b.style.display="block",d.reset()):b.style.display="none")}),e.addListener(J,function(a){var e,b=a.id,d=a.actionNode;if(b)return e={data:{id:b},onsuccess:function(){d&&(d.className="",d.innerHTML="\u5df2\u6536\u85cf")},onfailure:function(a){a&&20704==a.code?d&&(d.className="",d.innerHTML="\u5df2\u6536\u85cf"):l("\u6536\u85cf\u5931\u8d25","wrong")}},f.check()?(m.favorite(e),void 0):(c.trigger(F,{context:m,method:m.favorite,args:[e]}),void 0)}),e.addListener(G,function(a){var e,b=a.uid,d=a.followButton;if(b)return e={data:{uid:b},onsuccess:function(){if(d){var b=n('<span class="weibo-list-follow">\u5df2\u5173\u6ce8</span>'),c=d.parentNode;c.insertBefore(b,d),c.removeChild(d)}},onfailure:function(a){if(a&&20506==a.code){if(d){var b=n('<span class="weibo-list-follow">\u5df2\u5173\u6ce8</span>'),c=d.parentNode;c.insertBefore(b,d),c.removeChild(d)}}else l("\u5173\u6ce8\u5931\u8d25","wrong")}},f.check()?(m.follow(e),void 0):(c.trigger(F,{context:m,method:m.follow,args:[e]}),void 0)}),p&&(q||(q=D()),e.addListener(K,function(a){var d,e,g,b=a.username,c=a.userNode;if(b&&c)if(u(c,"mouseleave",function(){return q.hide(),!1}),e={screen_name:b},q.show("loading"),d=y(c,q),q.changeArrowDir(d.direction),q.move(d.x,d.y),g=q.getCache(b))q.show(),q.setData(g),q.show(),d=y(c,q),q.changeArrowDir(d.direction),q.move(d.x,d.y);else{var h=function(a,b,c){var d=f.check();d||(a.following=!1,c(a));var e={source_id:d.uid,target_screen_name:b};m.isFollowing({data:e,onsuccess:function(b){a.following=b.source.following,c(a)},onfailure:function(){a.following=!1,c(a)}})};m.getUser({data:e,onsuccess:function(a){a&&a.screen_name!==e.screen_name||(q.show(),h(a,b,function(){q.setData(a),q.show(),d=y(c,q),q.changeArrowDir(d.direction),q.move(d.x,d.y),q.setCache(b,a)}))}})}})),r&&i){var t=b.isElement(i)?i:b.query(i)[0];b.Event.delegate(t,"click","a",function(){var b=this.className,c="zw001",d="";if(b.indexOf("weibo-commentbox-submit")>-1)d="pinglun";else if(b.indexOf("weibo-user")>-1)switch(this.parentNode.tagName){case"DIV":d="touxiang";break;case"P":d="nicheng"}if(d)try{_S_uaTrack(c,d)}catch(a){}}),h.stat.retweet_d||(b.Event.delegate(document.body,"click",".weibo-retweet-submit",function(){try{_S_uaTrack("zw001","zhuanfa")}catch(a){}}),h.stat.retweet_d=!0)}if(i?e.render(i):e.render(),c._instance=e,c._container=i,c._comments={},d.useLoginDialog){var v=h.getLoginDialog();c.addListener(F,function(a){v.loginCallbackOnce=function(){a.method.apply(a.context,a.args)},v.show()})}};t(L),s(L.prototype,{reset:function(a){this._instance.reset(a),this._removeCommentList()},append:function(a){this._instance.append(a)},prepend:function(a){this._instance.prepend(a)},clear:function(){this.reset(null)},_removeCommentList:function(a){var c,b=this._comments;if(a)b[a]&&delete b[a];else for(c in b)delete b[c]},_getCommentList:function(a){var b=this._comments,c=a.cmtId;return b[c]||(b[c]=new j({id:c,uid:a.cmtUid,mid:a.cmtMid,original:a.cmtOriginal,listLength:a.listLength,container:a.cmtNode,openTrigger:a.actionNode})),b[c]}}),h.List=L,h.stat||(h.stat={})}(window,SINA);
